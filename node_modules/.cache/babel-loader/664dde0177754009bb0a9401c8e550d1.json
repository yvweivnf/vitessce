{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nimport { config, formatValue, equals as _equals, isArray } from '../../lib/common';\nimport assert from '../../lib/assert';\n\nvar MathArray = /*#__PURE__*/function (_extendableBuiltin2) {\n  _inherits(MathArray, _extendableBuiltin2);\n\n  var _super = _createSuper(MathArray);\n\n  function MathArray() {\n    _classCallCheck(this, MathArray);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MathArray, [{\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor().copy(this);\n    }\n  }, {\n    key: \"from\",\n    value: function from(arrayOrObject) {\n      return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n    }\n  }, {\n    key: \"fromArray\",\n    value: function fromArray(array) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = array[i + offset];\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"to\",\n    value: function to(arrayOrObject) {\n      if (arrayOrObject === this) {\n        return this;\n      }\n\n      return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n    }\n  }, {\n    key: \"toTarget\",\n    value: function toTarget(target) {\n      return target ? this.to(target) : this;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        array[offset + i] = this[i];\n      }\n\n      return array;\n    }\n  }, {\n    key: \"toFloat32Array\",\n    value: function toFloat32Array() {\n      return new Float32Array(this);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.formatString(config);\n    }\n  }, {\n    key: \"formatString\",\n    value: function formatString(opts) {\n      var string = '';\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n      }\n\n      return \"\".concat(opts.printTypes ? this.constructor.name : '', \"[\").concat(string, \"]\");\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(array) {\n      if (!array || this.length !== array.length) {\n        return false;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        if (!_equals(this[i], array[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"exactEquals\",\n    value: function exactEquals(array) {\n      if (!array || this.length !== array.length) {\n        return false;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        if (this[i] !== array[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = -this[i];\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lerp\",\n    value: function lerp(a, b, t) {\n      if (t === undefined) {\n        t = b;\n        b = a;\n        a = this;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        var ai = a[i];\n        this[i] = ai + t * (b[i] - ai);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"min\",\n    value: function min(vector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(vector[i], this[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"max\",\n    value: function max(vector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.max(vector[i], this[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"clamp\",\n    value: function clamp(minVector, maxVector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, vectors = new Array(_len), _key = 0; _key < _len; _key++) {\n        vectors[_key] = arguments[_key];\n      }\n\n      for (var _i = 0, _vectors = vectors; _i < _vectors.length; _i++) {\n        var vector = _vectors[_i];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] += vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract() {\n      for (var _len2 = arguments.length, vectors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        vectors[_key2] = arguments[_key2];\n      }\n\n      for (var _i2 = 0, _vectors2 = vectors; _i2 < _vectors2.length; _i2++) {\n        var vector = _vectors2[_i2];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] -= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(_scale) {\n      if (Array.isArray(_scale)) {\n        return this.multiply(_scale);\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= _scale;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"sub\",\n    value: function sub(a) {\n      return this.subtract(a);\n    }\n  }, {\n    key: \"setScalar\",\n    value: function setScalar(a) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = a;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"addScalar\",\n    value: function addScalar(a) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += a;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"subScalar\",\n    value: function subScalar(a) {\n      return this.addScalar(-a);\n    }\n  }, {\n    key: \"multiplyScalar\",\n    value: function multiplyScalar(scalar) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= scalar;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"divideScalar\",\n    value: function divideScalar(a) {\n      return this.scale(1 / a);\n    }\n  }, {\n    key: \"clampScalar\",\n    value: function clampScalar(min, max) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(Math.max(this[i], min), max);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"multiplyByScalar\",\n    value: function multiplyByScalar(scalar) {\n      return this.scale(scalar);\n    }\n  }, {\n    key: \"check\",\n    value: function check() {\n      if (config.debug && !this.validate()) {\n        throw new Error(\"math.gl: \".concat(this.constructor.name, \" some fields set to invalid numbers'\"));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var valid = this.length === this.ELEMENTS;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        valid = valid && Number.isFinite(this[i]);\n      }\n\n      return valid;\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"elements\",\n    get: function get() {\n      return this;\n    }\n  }]);\n\n  return MathArray;\n}(_extendableBuiltin(Array));\n\nexport { MathArray as default };","map":{"version":3,"sources":["../../../../src/classes/base/math-array.js"],"names":["equals","assert","Array","offset","i","array","arrayOrObject","isArray","target","string","formatValue","opts","t","b","a","ai","Math","vector","minVector","maxVector","config","valid","Number"],"mappings":"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","sourcesContent":["// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {config, formatValue, equals, isArray} from '../../lib/common';\nimport assert from '../../lib/assert';\n\nexport default class MathArray extends Array {\n  // Defined by derived class\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  clone() {\n    // @ts-ignore error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    return new this.constructor().copy(this);\n  }\n\n  from(arrayOrObject) {\n    // @ts-ignore error TS2339: Property 'copy' does not exist on type 'MathArray'.\n    return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n  }\n\n  fromArray(array, offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = array[i + offset];\n    }\n    return this.check();\n  }\n\n  to(arrayOrObject) {\n    if (arrayOrObject === this) {\n      return this;\n    }\n    // @ts-ignore error TS2339: Property 'toObject' does not exist on type 'MathArray'.\n    return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n  }\n\n  toTarget(target) {\n    return target ? this.to(target) : this;\n  }\n\n  toArray(array = [], offset = 0) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      array[offset + i] = this[i];\n    }\n    return array;\n  }\n\n  toFloat32Array() {\n    return new Float32Array(this);\n  }\n\n  toString() {\n    return this.formatString(config);\n  }\n\n  formatString(opts) {\n    let string = '';\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n    }\n    return `${opts.printTypes ? this.constructor.name : ''}[${string}]`;\n  }\n\n  equals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (!equals(this[i], array[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  exactEquals(array) {\n    if (!array || this.length !== array.length) {\n      return false;\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      if (this[i] !== array[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Modifiers\n\n  negate() {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = -this[i];\n    }\n    return this.check();\n  }\n\n  lerp(a, b, t) {\n    if (t === undefined) {\n      t = b;\n      b = a;\n      a = this; // eslint-disable-line\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      const ai = a[i];\n      this[i] = ai + t * (b[i] - ai);\n    }\n    return this.check();\n  }\n\n  min(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  max(vector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.max(vector[i], this[i]);\n    }\n    return this.check();\n  }\n\n  clamp(minVector, maxVector) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n    }\n    return this.check();\n  }\n\n  add(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  subtract(...vectors) {\n    for (const vector of vectors) {\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        this[i] -= vector[i];\n      }\n    }\n    return this.check();\n  }\n\n  scale(scale) {\n    if (Array.isArray(scale)) {\n      // @ts-ignore error TS2339: Property 'multiply' does not exist on type 'MathArray'.\n      return this.multiply(scale);\n    }\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scale;\n    }\n    return this.check();\n  }\n\n  // three.js compatibility\n\n  sub(a) {\n    return this.subtract(a);\n  }\n\n  setScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = a;\n    }\n    return this.check();\n  }\n\n  addScalar(a) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] += a;\n    }\n    return this.check();\n  }\n\n  subScalar(a) {\n    return this.addScalar(-a);\n  }\n\n  multiplyScalar(scalar) {\n    // Multiplies all elements\n    // `Matrix4.scale` only scales its 3x3 \"minor\"\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] *= scalar;\n    }\n    return this.check();\n  }\n\n  divideScalar(a) {\n    return this.scale(1 / a);\n  }\n\n  clampScalar(min, max) {\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      this[i] = Math.min(Math.max(this[i], min), max);\n    }\n    return this.check();\n  }\n\n  // Cesium compatibility\n\n  multiplyByScalar(scalar) {\n    return this.scale(scalar);\n  }\n\n  // THREE.js compatibility\n  get elements() {\n    return this;\n  }\n\n  // Debug checks\n\n  check() {\n    if (config.debug && !this.validate()) {\n      throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);\n    }\n    return this;\n  }\n\n  validate() {\n    let valid = this.length === this.ELEMENTS;\n    for (let i = 0; i < this.ELEMENTS; ++i) {\n      valid = valid && Number.isFinite(this[i]);\n    }\n    return valid;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}