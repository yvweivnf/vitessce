{"ast":null,"code":"import { quadtree } from 'd3-quadtree';\n/**\n * Create a d3-quadtree object for cells data points.\n * @param {array} cellsEntries Array of [cellId, cell] tuples,\n * resulting from running Object.entries on the cells object.\n * @param {function} getCellCoords Given a cell object, return the\n * spatial/scatterplot coordinates [x, y].\n * @returns {object} Quadtree instance.\n */\n\nexport function createCellsQuadTree(cellsEntries, getCellCoords) {\n  // Use the cellsEntries variable since it is already\n  // an array, converted by Object.entries().\n  // Only use cellsEntries in quadtree calculation if there is\n  // centroid data in the cells (i.e not just ids).\n  // eslint-disable-next-line no-unused-vars\n  if (!cellsEntries || !cellsEntries.length || !getCellCoords(cellsEntries[0][1])) {\n    // Abort if the cells data is not yet available.\n    return null;\n  }\n\n  const tree = quadtree().x(d => getCellCoords(d[1])[0]).y(d => getCellCoords(d[1])[1]).addAll(cellsEntries);\n  return tree;\n}","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/src/components/shared-spatial-scatterplot/quadtree.js"],"names":["quadtree","createCellsQuadTree","cellsEntries","getCellCoords","length","tree","x","d","y","addAll"],"mappings":"AAAA,SAASA,QAAT,QAAyB,aAAzB;AAEA;;;;;;;;;AAQA,OAAO,SAASC,mBAAT,CAA6BC,YAA7B,EAA2CC,aAA3C,EAA0D;AAC/D;AACA;AACA;AACA;AACA;AACA,MAAI,CAACD,YAAD,IAAiB,CAACA,YAAY,CAACE,MAA/B,IAAyC,CAACD,aAAa,CAACD,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAD,CAA3D,EAAiF;AAC/E;AACA,WAAO,IAAP;AACD;;AACD,QAAMG,IAAI,GAAGL,QAAQ,GAClBM,CADU,CACRC,CAAC,IAAIJ,aAAa,CAACI,CAAC,CAAC,CAAD,CAAF,CAAb,CAAoB,CAApB,CADG,EAEVC,CAFU,CAERD,CAAC,IAAIJ,aAAa,CAACI,CAAC,CAAC,CAAD,CAAF,CAAb,CAAoB,CAApB,CAFG,EAGVE,MAHU,CAGHP,YAHG,CAAb;AAIA,SAAOG,IAAP;AACD","sourcesContent":["import { quadtree } from 'd3-quadtree';\n\n/**\n * Create a d3-quadtree object for cells data points.\n * @param {array} cellsEntries Array of [cellId, cell] tuples,\n * resulting from running Object.entries on the cells object.\n * @param {function} getCellCoords Given a cell object, return the\n * spatial/scatterplot coordinates [x, y].\n * @returns {object} Quadtree instance.\n */\nexport function createCellsQuadTree(cellsEntries, getCellCoords) {\n  // Use the cellsEntries variable since it is already\n  // an array, converted by Object.entries().\n  // Only use cellsEntries in quadtree calculation if there is\n  // centroid data in the cells (i.e not just ids).\n  // eslint-disable-next-line no-unused-vars\n  if (!cellsEntries || !cellsEntries.length || !getCellCoords(cellsEntries[0][1])) {\n    // Abort if the cells data is not yet available.\n    return null;\n  }\n  const tree = quadtree()\n    .x(d => getCellCoords(d[1])[0])\n    .y(d => getCellCoords(d[1])[1])\n    .addAll(cellsEntries);\n  return tree;\n}\n"]},"metadata":{},"sourceType":"module"}