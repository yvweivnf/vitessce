{"ast":null,"code":"import { clipExtent } from \"../clip/extent\";\nimport identity from \"../identity\";\nimport { transformer } from \"../transform\";\nimport { fitExtent, fitSize } from \"./fit\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function (x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function () {\n  var k = 1,\n      tx = 0,\n      ty = 0,\n      sx = 1,\n      sy = 1,\n      transform = identity,\n      // scale, translate and reflect\n  x0 = null,\n      y0,\n      x1,\n      y1,\n      clip = identity,\n      // clip extent\n  cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function (stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(clip(cacheStream = stream));\n    },\n    clipExtent: function (_) {\n      return arguments.length ? (clip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function (_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function (_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function (_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function (_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function (extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function (size, object) {\n      return fitSize(projection, size, object);\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/node_modules/d3-geo/src/projection/identity.js"],"names":["clipExtent","identity","transformer","fitExtent","fitSize","scaleTranslate","kx","ky","tx","ty","point","x","y","stream","k","sx","sy","transform","x0","y0","x1","y1","clip","cache","cacheStream","projection","reset","_","arguments","length","scale","translate","reflectX","reflectY","extent","object","size"],"mappings":"AAAA,SAAQA,UAAR,QAAyB,gBAAzB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAAQC,WAAR,QAA0B,cAA1B;AACA,SAAQC,SAAR,EAAmBC,OAAnB,QAAiC,OAAjC;;AAEA,SAASC,cAAT,CAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwC;AACtC,SAAOH,EAAE,KAAK,CAAP,IAAYC,EAAE,KAAK,CAAnB,IAAwBC,EAAE,KAAK,CAA/B,IAAoCC,EAAE,KAAK,CAA3C,GAA+CR,QAA/C,GAA0DC,WAAW,CAAC;AAC3EQ,IAAAA,KAAK,EAAE,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACpB,WAAKC,MAAL,CAAYH,KAAZ,CAAkBC,CAAC,GAAGL,EAAJ,GAASE,EAA3B,EAA+BI,CAAC,GAAGL,EAAJ,GAASE,EAAxC;AACD;AAH0E,GAAD,CAA5E;AAKD;;AAED,eAAe,YAAW;AACxB,MAAIK,CAAC,GAAG,CAAR;AAAA,MAAWN,EAAE,GAAG,CAAhB;AAAA,MAAmBC,EAAE,GAAG,CAAxB;AAAA,MAA2BM,EAAE,GAAG,CAAhC;AAAA,MAAmCC,EAAE,GAAG,CAAxC;AAAA,MAA2CC,SAAS,GAAGhB,QAAvD;AAAA,MAAiE;AAC7DiB,EAAAA,EAAE,GAAG,IADT;AAAA,MACeC,EADf;AAAA,MACmBC,EADnB;AAAA,MACuBC,EADvB;AAAA,MAC2BC,IAAI,GAAGrB,QADlC;AAAA,MAC4C;AACxCsB,EAAAA,KAFJ;AAAA,MAGIC,WAHJ;AAAA,MAIIC,UAJJ;;AAMA,WAASC,KAAT,GAAiB;AACfH,IAAAA,KAAK,GAAGC,WAAW,GAAG,IAAtB;AACA,WAAOC,UAAP;AACD;;AAED,SAAOA,UAAU,GAAG;AAClBZ,IAAAA,MAAM,EAAE,UAASA,MAAT,EAAiB;AACvB,aAAOU,KAAK,IAAIC,WAAW,KAAKX,MAAzB,GAAkCU,KAAlC,GAA0CA,KAAK,GAAGN,SAAS,CAACK,IAAI,CAACE,WAAW,GAAGX,MAAf,CAAL,CAAlE;AACD,KAHiB;AAIlBb,IAAAA,UAAU,EAAE,UAAS2B,CAAT,EAAY;AACtB,aAAOC,SAAS,CAACC,MAAV,IAAoBP,IAAI,GAAGK,CAAC,IAAI,IAAL,IAAaT,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAG,IAApB,EAA0BpB,QAAvC,IAAmDD,UAAU,CAACkB,EAAE,GAAG,CAACS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAP,EAAgBR,EAAE,GAAG,CAACQ,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAtB,EAA+BP,EAAE,GAAG,CAACO,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAArC,EAA8CN,EAAE,GAAG,CAACM,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAApD,CAApE,EAAkID,KAAK,EAA3J,IAAiKR,EAAE,IAAI,IAAN,GAAa,IAAb,GAAoB,CAAC,CAACA,EAAD,EAAKC,EAAL,CAAD,EAAW,CAACC,EAAD,EAAKC,EAAL,CAAX,CAA5L;AACD,KANiB;AAOlBS,IAAAA,KAAK,EAAE,UAASH,CAAT,EAAY;AACjB,aAAOC,SAAS,CAACC,MAAV,IAAoBZ,SAAS,GAAGZ,cAAc,CAAC,CAACS,CAAC,GAAG,CAACa,CAAN,IAAWZ,EAAZ,EAAgBD,CAAC,GAAGE,EAApB,EAAwBR,EAAxB,EAA4BC,EAA5B,CAA1B,EAA2DiB,KAAK,EAApF,IAA0FZ,CAAjG;AACD,KATiB;AAUlBiB,IAAAA,SAAS,EAAE,UAASJ,CAAT,EAAY;AACrB,aAAOC,SAAS,CAACC,MAAV,IAAoBZ,SAAS,GAAGZ,cAAc,CAACS,CAAC,GAAGC,EAAL,EAASD,CAAC,GAAGE,EAAb,EAAiBR,EAAE,GAAG,CAACmB,CAAC,CAAC,CAAD,CAAxB,EAA6BlB,EAAE,GAAG,CAACkB,CAAC,CAAC,CAAD,CAApC,CAA1B,EAAoED,KAAK,EAA7F,IAAmG,CAAClB,EAAD,EAAKC,EAAL,CAA1G;AACD,KAZiB;AAalBuB,IAAAA,QAAQ,EAAE,UAASL,CAAT,EAAY;AACpB,aAAOC,SAAS,CAACC,MAAV,IAAoBZ,SAAS,GAAGZ,cAAc,CAACS,CAAC,IAAIC,EAAE,GAAGY,CAAC,GAAG,CAAC,CAAJ,GAAQ,CAAlB,CAAF,EAAwBb,CAAC,GAAGE,EAA5B,EAAgCR,EAAhC,EAAoCC,EAApC,CAA1B,EAAmEiB,KAAK,EAA5F,IAAkGX,EAAE,GAAG,CAA9G;AACD,KAfiB;AAgBlBkB,IAAAA,QAAQ,EAAE,UAASN,CAAT,EAAY;AACpB,aAAOC,SAAS,CAACC,MAAV,IAAoBZ,SAAS,GAAGZ,cAAc,CAACS,CAAC,GAAGC,EAAL,EAASD,CAAC,IAAIE,EAAE,GAAGW,CAAC,GAAG,CAAC,CAAJ,GAAQ,CAAlB,CAAV,EAAgCnB,EAAhC,EAAoCC,EAApC,CAA1B,EAAmEiB,KAAK,EAA5F,IAAkGV,EAAE,GAAG,CAA9G;AACD,KAlBiB;AAmBlBb,IAAAA,SAAS,EAAE,UAAS+B,MAAT,EAAiBC,MAAjB,EAAyB;AAClC,aAAOhC,SAAS,CAACsB,UAAD,EAAaS,MAAb,EAAqBC,MAArB,CAAhB;AACD,KArBiB;AAsBlB/B,IAAAA,OAAO,EAAE,UAASgC,IAAT,EAAeD,MAAf,EAAuB;AAC9B,aAAO/B,OAAO,CAACqB,UAAD,EAAaW,IAAb,EAAmBD,MAAnB,CAAd;AACD;AAxBiB,GAApB;AA0BD","sourcesContent":["import {clipExtent} from \"../clip/extent\";\nimport identity from \"../identity\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize} from \"./fit\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, clip = identity, // clip extent\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(clip(cacheStream = stream));\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (clip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}