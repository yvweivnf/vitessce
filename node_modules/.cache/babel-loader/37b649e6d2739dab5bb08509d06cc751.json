{"ast":null,"code":"import { getSizeChannel, POSITION_SCALE_CHANNELS } from '../../channel';\nimport { isContinuousFieldOrDatumDef } from '../../channeldef';\nimport * as log from '../../log';\nimport { isStep } from '../../spec/base';\nexport function initLayoutSize({\n  encoding,\n  size\n}) {\n  for (const channel of POSITION_SCALE_CHANNELS) {\n    const sizeType = getSizeChannel(channel);\n\n    if (isStep(size[sizeType])) {\n      if (isContinuousFieldOrDatumDef(encoding[channel])) {\n        delete size[sizeType];\n        log.warn(log.message.stepDropped(sizeType));\n      }\n    }\n  }\n\n  return size;\n}","map":{"version":3,"sources":["../../../../src/compile/layoutsize/init.ts"],"names":[],"mappings":"AAAA,SAAQ,cAAR,EAAwB,uBAAxB,QAAsD,eAAtD;AACA,SAAQ,2BAAR,QAA0C,kBAA1C;AAEA,OAAO,KAAK,GAAZ,MAAqB,WAArB;AACA,SAAQ,MAAR,QAAuC,iBAAvC;AAEA,OAAM,SAAU,cAAV,CAAyB;AAAC,EAAA,QAAD;AAAW,EAAA;AAAX,CAAzB,EAA+F;AACnG,OAAK,MAAM,OAAX,IAAsB,uBAAtB,EAA+C;AAC7C,UAAM,QAAQ,GAAG,cAAc,CAAC,OAAD,CAA/B;;AACA,QAAI,MAAM,CAAC,IAAI,CAAC,QAAD,CAAL,CAAV,EAA4B;AAC1B,UAAI,2BAA2B,CAAC,QAAQ,CAAC,OAAD,CAAT,CAA/B,EAAoD;AAClD,eAAO,IAAI,CAAC,QAAD,CAAX;AACA,QAAA,GAAG,CAAC,IAAJ,CAAS,GAAG,CAAC,OAAJ,CAAY,WAAZ,CAAwB,QAAxB,CAAT;AACD;AACF;AACF;;AAED,SAAO,IAAP;AACD","sourceRoot":"","sourcesContent":["import { getSizeChannel, POSITION_SCALE_CHANNELS } from '../../channel';\nimport { isContinuousFieldOrDatumDef } from '../../channeldef';\nimport * as log from '../../log';\nimport { isStep } from '../../spec/base';\nexport function initLayoutSize({ encoding, size }) {\n    for (const channel of POSITION_SCALE_CHANNELS) {\n        const sizeType = getSizeChannel(channel);\n        if (isStep(size[sizeType])) {\n            if (isContinuousFieldOrDatumDef(encoding[channel])) {\n                delete size[sizeType];\n                log.warn(log.message.stepDropped(sizeType));\n            }\n        }\n    }\n    return size;\n}\n//# sourceMappingURL=init.js.map"]},"metadata":{},"sourceType":"module"}