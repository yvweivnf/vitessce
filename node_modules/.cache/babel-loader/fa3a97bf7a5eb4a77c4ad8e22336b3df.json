{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport { BaseClient, BaseResponse } from './base';\n\nvar FetchResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(FetchResponse, _BaseResponse);\n\n  var _super = _createSuper(FetchResponse);\n\n  /**\n   * BaseResponse facade for fetch API Response\n   * @param {Response} response\n   */\n  function FetchResponse(response) {\n    var _this;\n\n    _classCallCheck(this, FetchResponse);\n\n    _this = _super.call(this);\n    _this.response = response;\n    return _this;\n  }\n\n  _createClass(FetchResponse, [{\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers.get(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.response.arrayBuffer) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.response.arrayBuffer();\n\n              case 3:\n                _context.t0 = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.next = 8;\n                return this.response.buffer();\n\n              case 8:\n                _context.t0 = _context.sent.buffer;\n\n              case 9:\n                data = _context.t0;\n                return _context.abrupt(\"return\", data);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }, {\n    key: \"status\",\n    get: function get() {\n      return this.response.status;\n    }\n  }]);\n\n  return FetchResponse;\n}(BaseResponse);\n\nexport var FetchClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(FetchClient, _BaseClient);\n\n  var _super2 = _createSuper(FetchClient);\n\n  function FetchClient(url, credentials) {\n    var _this2;\n\n    _classCallCheck(this, FetchClient);\n\n    _this2 = _super2.call(this, url);\n    _this2.credentials = credentials;\n    return _this2;\n  }\n\n  _createClass(FetchClient, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n            headers,\n            credentials,\n            signal,\n            response,\n            _args2 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, credentials = _ref.credentials, signal = _ref.signal;\n                _context2.next = 3;\n                return fetch(this.url, {\n                  headers: headers,\n                  credentials: credentials,\n                  signal: signal\n                });\n\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", new FetchResponse(response));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function request() {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return FetchClient;\n}(BaseClient);","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/node_modules/geotiff/src/source/client/fetch.js"],"names":["BaseClient","BaseResponse","FetchResponse","response","name","headers","get","arrayBuffer","buffer","data","status","FetchClient","url","credentials","signal","fetch"],"mappings":";;;;;;AAAA,SAASA,UAAT,EAAqBC,YAArB,QAAyC,QAAzC;;IAGMC,a;;;;;AACJ;;;;AAIA,yBAAYC,QAAZ,EAAsB;AAAA;;AAAA;;AACpB;AACA,UAAKA,QAAL,GAAgBA,QAAhB;AAFoB;AAGrB;;;;8BAMSC,I,EAAM;AACd,aAAO,KAAKD,QAAL,CAAcE,OAAd,CAAsBC,GAAtB,CAA0BF,IAA1B,CAAP;AACD;;;;;;;;;;qBAGc,KAAKD,QAAL,CAAcI,W;;;;;;uBACjB,KAAKJ,QAAL,CAAcI,WAAd,E;;;;;;;;;uBACC,KAAKJ,QAAL,CAAcK,MAAd,E;;;4CAAwBA,M;;;AAF7BC,gBAAAA,I;iDAGCA,I;;;;;;;;;;;;;;;;;;wBAZI;AACX,aAAO,KAAKN,QAAL,CAAcO,MAArB;AACD;;;;EAZyBT,Y;;AA0B5B,WAAaU,WAAb;AAAA;;AAAA;;AACE,uBAAYC,GAAZ,EAAiBC,WAAjB,EAA8B;AAAA;;AAAA;;AAC5B,gCAAMD,GAAN;AACA,WAAKC,WAAL,GAAmBA,WAAnB;AAF4B;AAG7B;;AAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kFAMmD,EANnD,EAMkBR,OANlB,QAMkBA,OANlB,EAM2BQ,WAN3B,QAM2BA,WAN3B,EAMwCC,MANxC,QAMwCA,MANxC;AAAA;AAAA,uBAO2BC,KAAK,CAAC,KAAKH,GAAN,EAAW;AACrCP,kBAAAA,OAAO,EAAPA,OADqC;AAC5BQ,kBAAAA,WAAW,EAAXA,WAD4B;AACfC,kBAAAA,MAAM,EAANA;AADe,iBAAX,CAPhC;;AAAA;AAOUX,gBAAAA,QAPV;AAAA,kDAUW,IAAID,aAAJ,CAAkBC,QAAlB,CAVX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAiCH,UAAjC","sourcesContent":["import { BaseClient, BaseResponse } from './base';\n\n\nclass FetchResponse extends BaseResponse {\n  /**\n   * BaseResponse facade for fetch API Response\n   * @param {Response} response\n   */\n  constructor(response) {\n    super();\n    this.response = response;\n  }\n\n  get status() {\n    return this.response.status;\n  }\n\n  getHeader(name) {\n    return this.response.headers.get(name);\n  }\n\n  async getData() {\n    const data = this.response.arrayBuffer\n      ? await this.response.arrayBuffer()\n      : (await this.response.buffer()).buffer;\n    return data;\n  }\n}\n\nexport class FetchClient extends BaseClient {\n  constructor(url, credentials) {\n    super(url);\n    this.credentials = credentials;\n  }\n\n  async request({ headers, credentials, signal } = {}) {\n    const response = await fetch(this.url, {\n      headers, credentials, signal,\n    });\n    return new FetchResponse(response);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}