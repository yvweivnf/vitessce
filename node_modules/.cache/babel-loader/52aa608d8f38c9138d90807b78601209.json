{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/* eslint-disable no-underscore-dangle */import{COORDINATE_SYSTEM,CompositeLayer}from'@deck.gl/core';// eslint-disable-line import/no-extraneous-dependencies\nimport{TextLayer}from'@deck.gl/layers';// eslint-disable-line import/no-extraneous-dependencies\nimport{AXIS_LABEL_TEXT_SIZE,AXIS_TITLE_TEXT_SIZE,AXIS_MARGIN,THEME_TO_TEXT_COLOR,AXIS_FONT_FAMILY,COLOR_BAR_SIZE}from'./heatmap-constants';var HeatmapCompositeTextLayer=/*#__PURE__*/function(_CompositeLayer){_inherits(HeatmapCompositeTextLayer,_CompositeLayer);var _super=_createSuper(HeatmapCompositeTextLayer);function HeatmapCompositeTextLayer(){_classCallCheck(this,HeatmapCompositeTextLayer);return _super.apply(this,arguments);}_createClass(HeatmapCompositeTextLayer,[{key:\"_renderAxisTopLayers\",value:function _renderAxisTopLayers(){var _this$props=this.props,axisTopLabelData=_this$props.axisTopLabelData,matrixLeft=_this$props.matrixLeft,width=_this$props.width,matrixWidth=_this$props.matrixWidth,viewWidth=_this$props.viewWidth,theme=_this$props.theme,targetX=_this$props.targetX,targetY=_this$props.targetY,axisTopTitle=_this$props.axisTopTitle,cellWidth=_this$props.cellWidth,axisOffsetTop=_this$props.axisOffsetTop,scaleFactor=_this$props.scaleFactor,hideTopLabels=_this$props.hideTopLabels;var showAxisTopLabels=cellWidth>=AXIS_LABEL_TEXT_SIZE;var axisLabelTop=targetY+(axisOffsetTop-AXIS_MARGIN)/2/scaleFactor;return hideTopLabels?[]:[new TextLayer({id:'axisTopLabels',coordinateSystem:COORDINATE_SYSTEM.CARTESIAN,data:axisTopLabelData,getText:function getText(d){return d[1];},getPosition:function getPosition(d){return[matrixLeft+(d[0]+0.5)/width*matrixWidth,axisLabelTop];},getTextAnchor:'start',getColor:function getColor(){return THEME_TO_TEXT_COLOR[theme];},getSize:showAxisTopLabels?AXIS_LABEL_TEXT_SIZE:0,getAngle:75,fontFamily:AXIS_FONT_FAMILY,updateTriggers:{getPosition:[axisLabelTop,matrixLeft,matrixWidth,viewWidth],getSize:[showAxisTopLabels],getColor:[theme]}}),new TextLayer({id:'axisTopTitle',coordinateSystem:COORDINATE_SYSTEM.CARTESIAN,data:[{title:axisTopTitle}],getText:function getText(d){return d.title;},getPosition:[targetX,targetY],getTextAnchor:'middle',getColor:function getColor(){return THEME_TO_TEXT_COLOR[theme];},getSize:!showAxisTopLabels?AXIS_TITLE_TEXT_SIZE:0,getAngle:0,fontFamily:AXIS_FONT_FAMILY,updateTriggers:{getSize:[showAxisTopLabels],getColor:[theme]}})];}},{key:\"_renderCornerLayers\",value:function _renderCornerLayers(){var _this$props2=this.props,theme=_this$props2.theme,targetX=_this$props2.targetX,targetY=_this$props2.targetY,axisOffsetTop=_this$props2.axisOffsetTop,scaleFactor=_this$props2.scaleFactor,cellColorLabelsData=_this$props2.cellColorLabelsData,axisOffsetLeft=_this$props2.axisOffsetLeft,transpose=_this$props2.transpose;var axisLabelTop=targetY+(axisOffsetTop-AXIS_MARGIN)/2/scaleFactor;var axisLabelLeft=targetX+(axisOffsetLeft-AXIS_MARGIN)/2/scaleFactor;return cellColorLabelsData.map(function(data){return new TextLayer({id:\"cellColorLabel-\".concat(data[0]),coordinateSystem:COORDINATE_SYSTEM.CARTESIAN,data:[data],getText:function getText(d){return d[1];},getTextAnchor:transpose?'end':'start',getAlignmentBaseline:'top',getColor:function getColor(){return THEME_TO_TEXT_COLOR[theme];},getSize:AXIS_LABEL_TEXT_SIZE,getPosition:function getPosition(d){return[transpose?axisLabelLeft:targetX+((-cellColorLabelsData.length+d[0]*2)*COLOR_BAR_SIZE+AXIS_MARGIN)/2/scaleFactor,transpose?targetY+((-cellColorLabelsData.length+d[0]*2)*COLOR_BAR_SIZE+AXIS_MARGIN)/2/scaleFactor:axisLabelTop];},getAngle:transpose?0:90,fontFamily:AXIS_FONT_FAMILY});});}},{key:\"_renderAxisLeftLayers\",value:function _renderAxisLeftLayers(){var _this$props3=this.props,axisLeftLabelData=_this$props3.axisLeftLabelData,matrixTop=_this$props3.matrixTop,height=_this$props3.height,matrixHeight=_this$props3.matrixHeight,viewHeight=_this$props3.viewHeight,theme=_this$props3.theme,axisLeftTitle=_this$props3.axisLeftTitle,targetX=_this$props3.targetX,targetY=_this$props3.targetY,cellHeight=_this$props3.cellHeight,axisOffsetLeft=_this$props3.axisOffsetLeft,scaleFactor=_this$props3.scaleFactor,hideLeftLabels=_this$props3.hideLeftLabels;var showAxisLeftLabels=cellHeight>=AXIS_LABEL_TEXT_SIZE;var axisLabelLeft=targetX+(axisOffsetLeft-AXIS_MARGIN)/2/scaleFactor;return hideLeftLabels?[]:[new TextLayer({id:'axisLeftLabels',coordinateSystem:COORDINATE_SYSTEM.CARTESIAN,data:axisLeftLabelData,getText:function getText(d){return d[1];},getPosition:function getPosition(d){return[axisLabelLeft,matrixTop+(d[0]+0.5)/height*matrixHeight];},getTextAnchor:'end',getColor:function getColor(){return THEME_TO_TEXT_COLOR[theme];},getSize:showAxisLeftLabels?AXIS_LABEL_TEXT_SIZE:0,getAngle:0,fontFamily:AXIS_FONT_FAMILY,updateTriggers:{getPosition:[axisLabelLeft,matrixTop,matrixHeight,viewHeight],getSize:[showAxisLeftLabels],getColor:[theme]}}),new TextLayer({id:'axisLeftTitle',coordinateSystem:COORDINATE_SYSTEM.CARTESIAN,data:[{title:axisLeftTitle}],getText:function getText(d){return d.title;},getPosition:[targetX,targetY],getTextAnchor:'middle',getColor:function getColor(){return THEME_TO_TEXT_COLOR[theme];},getSize:!showAxisLeftLabels?AXIS_TITLE_TEXT_SIZE:0,getAngle:90,fontFamily:AXIS_FONT_FAMILY,updateTriggers:{getSize:[showAxisLeftLabels],getColor:[theme]}})];}},{key:\"renderLayers\",value:function renderLayers(){var axis=this.props.axis;if(axis==='left'){return this._renderAxisLeftLayers();}if(axis==='top'){return this._renderAxisTopLayers();}if(axis==='corner'){return this._renderCornerLayers();}return[];}}]);return HeatmapCompositeTextLayer;}(CompositeLayer);export{HeatmapCompositeTextLayer as default};HeatmapCompositeTextLayer.layerName='HeatmapCompositeTextLayer';","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/src/layers/HeatmapCompositeTextLayer.js"],"names":["COORDINATE_SYSTEM","CompositeLayer","TextLayer","AXIS_LABEL_TEXT_SIZE","AXIS_TITLE_TEXT_SIZE","AXIS_MARGIN","THEME_TO_TEXT_COLOR","AXIS_FONT_FAMILY","COLOR_BAR_SIZE","HeatmapCompositeTextLayer","props","axisTopLabelData","matrixLeft","width","matrixWidth","viewWidth","theme","targetX","targetY","axisTopTitle","cellWidth","axisOffsetTop","scaleFactor","hideTopLabels","showAxisTopLabels","axisLabelTop","id","coordinateSystem","CARTESIAN","data","getText","d","getPosition","getTextAnchor","getColor","getSize","getAngle","fontFamily","updateTriggers","title","cellColorLabelsData","axisOffsetLeft","transpose","axisLabelLeft","map","getAlignmentBaseline","length","axisLeftLabelData","matrixTop","height","matrixHeight","viewHeight","axisLeftTitle","cellHeight","hideLeftLabels","showAxisLeftLabels","axis","_renderAxisLeftLayers","_renderAxisTopLayers","_renderCornerLayers","layerName"],"mappings":"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","sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport { COORDINATE_SYSTEM, CompositeLayer } from '@deck.gl/core'; // eslint-disable-line import/no-extraneous-dependencies\nimport { TextLayer } from '@deck.gl/layers'; // eslint-disable-line import/no-extraneous-dependencies\nimport {\n  AXIS_LABEL_TEXT_SIZE,\n  AXIS_TITLE_TEXT_SIZE,\n  AXIS_MARGIN,\n  THEME_TO_TEXT_COLOR,\n  AXIS_FONT_FAMILY,\n  COLOR_BAR_SIZE,\n} from './heatmap-constants';\n\nexport default class HeatmapCompositeTextLayer extends CompositeLayer {\n  _renderAxisTopLayers() {\n    const {\n      axisTopLabelData, matrixLeft, width, matrixWidth, viewWidth, theme,\n      targetX, targetY, axisTopTitle, cellWidth, axisOffsetTop, scaleFactor,\n      hideTopLabels,\n    } = this.props;\n    const showAxisTopLabels = cellWidth >= AXIS_LABEL_TEXT_SIZE;\n    const axisLabelTop = targetY + (axisOffsetTop - AXIS_MARGIN) / 2 / scaleFactor;\n    return hideTopLabels ? [] : [\n      new TextLayer({\n        id: 'axisTopLabels',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: axisTopLabelData,\n        getText: d => d[1],\n        getPosition: d => [matrixLeft + ((d[0] + 0.5) / width) * matrixWidth, axisLabelTop],\n        getTextAnchor: 'start',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (showAxisTopLabels ? AXIS_LABEL_TEXT_SIZE : 0),\n        getAngle: 75,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getPosition: [axisLabelTop, matrixLeft, matrixWidth, viewWidth],\n          getSize: [showAxisTopLabels],\n          getColor: [theme],\n        },\n      }),\n      new TextLayer({\n        id: 'axisTopTitle',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: [{ title: axisTopTitle }],\n        getText: d => d.title,\n        getPosition: [targetX, targetY],\n        getTextAnchor: 'middle',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (!showAxisTopLabels ? AXIS_TITLE_TEXT_SIZE : 0),\n        getAngle: 0,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getSize: [showAxisTopLabels],\n          getColor: [theme],\n        },\n      }),\n    ];\n  }\n\n  _renderCornerLayers() {\n    const {\n      theme, targetX, targetY, axisOffsetTop, scaleFactor,\n      cellColorLabelsData, axisOffsetLeft, transpose,\n    } = this.props;\n    const axisLabelTop = targetY + (axisOffsetTop - AXIS_MARGIN) / 2 / scaleFactor;\n    const axisLabelLeft = targetX + (axisOffsetLeft - AXIS_MARGIN) / 2 / scaleFactor;\n    return cellColorLabelsData.map(data => (\n      new TextLayer({\n        id: `cellColorLabel-${data[0]}`,\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: [data],\n        getText: d => d[1],\n        getTextAnchor: (transpose ? 'end' : 'start'),\n        getAlignmentBaseline: 'top',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: AXIS_LABEL_TEXT_SIZE,\n        getPosition: d => [\n          (transpose\n            ? axisLabelLeft\n            : targetX\n              + ((-cellColorLabelsData.length + d[0] * 2) * COLOR_BAR_SIZE + AXIS_MARGIN)\n              / 2 / scaleFactor\n          ),\n          (transpose\n            ? targetY\n              + ((-cellColorLabelsData.length + d[0] * 2) * COLOR_BAR_SIZE + AXIS_MARGIN)\n              / 2 / scaleFactor\n            : axisLabelTop\n          ),\n        ],\n        getAngle: (transpose ? 0 : 90),\n        fontFamily: AXIS_FONT_FAMILY,\n      })\n    ));\n  }\n\n  _renderAxisLeftLayers() {\n    const {\n      axisLeftLabelData, matrixTop, height, matrixHeight,\n      viewHeight, theme, axisLeftTitle, targetX, targetY, cellHeight, axisOffsetLeft,\n      scaleFactor, hideLeftLabels,\n    } = this.props;\n    const showAxisLeftLabels = cellHeight >= AXIS_LABEL_TEXT_SIZE;\n    const axisLabelLeft = targetX + (axisOffsetLeft - AXIS_MARGIN) / 2 / scaleFactor;\n    return hideLeftLabels ? [] : [\n      new TextLayer({\n        id: 'axisLeftLabels',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: axisLeftLabelData,\n        getText: d => d[1],\n        getPosition: d => [axisLabelLeft, matrixTop + ((d[0] + 0.5) / height) * matrixHeight],\n        getTextAnchor: 'end',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (showAxisLeftLabels ? AXIS_LABEL_TEXT_SIZE : 0),\n        getAngle: 0,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getPosition: [axisLabelLeft, matrixTop, matrixHeight, viewHeight],\n          getSize: [showAxisLeftLabels],\n          getColor: [theme],\n        },\n      }),\n      new TextLayer({\n        id: 'axisLeftTitle',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: [{ title: axisLeftTitle }],\n        getText: d => d.title,\n        getPosition: [targetX, targetY],\n        getTextAnchor: 'middle',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (!showAxisLeftLabels ? AXIS_TITLE_TEXT_SIZE : 0),\n        getAngle: 90,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getSize: [showAxisLeftLabels],\n          getColor: [theme],\n        },\n      }),\n    ];\n  }\n\n  renderLayers() {\n    const { axis } = this.props;\n    if (axis === 'left') {\n      return this._renderAxisLeftLayers();\n    }\n    if (axis === 'top') {\n      return this._renderAxisTopLayers();\n    }\n    if (axis === 'corner') {\n      return this._renderCornerLayers();\n    }\n    return [];\n  }\n}\n\nHeatmapCompositeTextLayer.layerName = 'HeatmapCompositeTextLayer';\n"]},"metadata":{},"sourceType":"module"}