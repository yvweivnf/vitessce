{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\src\\\\components\\\\tooltip\\\\Tooltip.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { useVitessceContainer } from '../hooks';\nimport { styles } from './styles';\nexport default function Tooltip(props) {\n  const {\n    x,\n    y,\n    parentWidth,\n    parentHeight,\n    children\n  } = props;\n  const ref = useRef();\n  const classes = styles();\n  const [placementX, setPlacementX] = useState('start');\n  const [placementY, setPlacementY] = useState('bottom');\n  const getTooltipContainer = useVitessceContainer(ref); // Do collision detection based on the bounds of the tooltip ancestor element.\n\n  useEffect(() => {\n    if (ref && ref.current) {\n      const flipX = x > parentWidth / 2;\n      const flipY = y > parentHeight / 2;\n      setPlacementX(flipX ? 'end' : 'start');\n      setPlacementY(flipY ? 'top' : 'bottom');\n      ref.current.style.left = `${x + (flipX ? -20 : 5)}px`;\n      ref.current.style.top = `${y + (flipY ? -20 : 5)}px`;\n    }\n  }, [x, y, parentWidth, parentHeight]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: classes.tooltipAnchor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, ref && ref.current ? /*#__PURE__*/React.createElement(Popper, {\n    open: true,\n    anchorEl: ref.current,\n    container: getTooltipContainer,\n    transition: true,\n    placement: `${placementY}-${placementX}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 4,\n    className: classes.tooltipContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, children)) : null);\n}","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/src/components/tooltip/Tooltip.js"],"names":["React","useEffect","useRef","useState","Paper","Popper","useVitessceContainer","styles","Tooltip","props","x","y","parentWidth","parentHeight","children","ref","classes","placementX","setPlacementX","placementY","setPlacementY","getTooltipContainer","current","flipX","flipY","style","left","top","tooltipAnchor","tooltipContent"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,oBAAT,QAAqC,UAArC;AACA,SAASC,MAAT,QAAuB,UAAvB;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACrC,QAAM;AACJC,IAAAA,CADI;AAEJC,IAAAA,CAFI;AAGJC,IAAAA,WAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA;AALI,MAMFL,KANJ;AAOA,QAAMM,GAAG,GAAGb,MAAM,EAAlB;AACA,QAAMc,OAAO,GAAGT,MAAM,EAAtB;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8Bf,QAAQ,CAAC,OAAD,CAA5C;AACA,QAAM,CAACgB,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,QAAD,CAA5C;AAEA,QAAMkB,mBAAmB,GAAGf,oBAAoB,CAACS,GAAD,CAAhD,CAbqC,CAerC;;AACAd,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIc,GAAG,IAAIA,GAAG,CAACO,OAAf,EAAwB;AACtB,YAAMC,KAAK,GAAIb,CAAC,GAAGE,WAAW,GAAG,CAAjC;AACA,YAAMY,KAAK,GAAIb,CAAC,GAAGE,YAAY,GAAG,CAAlC;AACAK,MAAAA,aAAa,CAACK,KAAK,GAAG,KAAH,GAAW,OAAjB,CAAb;AACAH,MAAAA,aAAa,CAACI,KAAK,GAAG,KAAH,GAAW,QAAjB,CAAb;AACAT,MAAAA,GAAG,CAACO,OAAJ,CAAYG,KAAZ,CAAkBC,IAAlB,GAA0B,GAAEhB,CAAC,IAAIa,KAAK,GAAG,CAAC,EAAJ,GAAS,CAAlB,CAAqB,IAAlD;AACAR,MAAAA,GAAG,CAACO,OAAJ,CAAYG,KAAZ,CAAkBE,GAAlB,GAAyB,GAAEhB,CAAC,IAAIa,KAAK,GAAG,CAAC,EAAJ,GAAS,CAAlB,CAAqB,IAAjD;AACD;AACF,GATQ,EASN,CAACd,CAAD,EAAIC,CAAJ,EAAOC,WAAP,EAAoBC,YAApB,CATM,CAAT;AAWA,sBACE;AACE,IAAA,GAAG,EAAEE,GADP;AAEE,IAAA,SAAS,EAAEC,OAAO,CAACY,aAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGb,GAAG,IAAIA,GAAG,CAACO,OAAX,gBACC,oBAAC,MAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,QAAQ,EAAEP,GAAG,CAACO,OAFhB;AAGE,IAAA,SAAS,EAAED,mBAHb;AAIE,IAAA,UAAU,MAJZ;AAKE,IAAA,SAAS,EAAG,GAAEF,UAAW,IAAGF,UAAW,EALzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE,CAAlB;AAAqB,IAAA,SAAS,EAAED,OAAO,CAACa,cAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGf,QADH,CAPF,CADD,GAYG,IAhBN,CADF;AAoBD","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { useVitessceContainer } from '../hooks';\nimport { styles } from './styles';\n\nexport default function Tooltip(props) {\n  const {\n    x,\n    y,\n    parentWidth,\n    parentHeight,\n    children,\n  } = props;\n  const ref = useRef();\n  const classes = styles();\n  const [placementX, setPlacementX] = useState('start');\n  const [placementY, setPlacementY] = useState('bottom');\n\n  const getTooltipContainer = useVitessceContainer(ref);\n\n  // Do collision detection based on the bounds of the tooltip ancestor element.\n  useEffect(() => {\n    if (ref && ref.current) {\n      const flipX = (x > parentWidth / 2);\n      const flipY = (y > parentHeight / 2);\n      setPlacementX(flipX ? 'end' : 'start');\n      setPlacementY(flipY ? 'top' : 'bottom');\n      ref.current.style.left = `${x + (flipX ? -20 : 5)}px`;\n      ref.current.style.top = `${y + (flipY ? -20 : 5)}px`;\n    }\n  }, [x, y, parentWidth, parentHeight]);\n\n  return (\n    <div\n      ref={ref}\n      className={classes.tooltipAnchor}\n    >\n      {ref && ref.current ? (\n        <Popper\n          open\n          anchorEl={ref.current}\n          container={getTooltipContainer}\n          transition\n          placement={`${placementY}-${placementX}`}\n        >\n          <Paper elevation={4} className={classes.tooltipContent}>\n            {children}\n          </Paper>\n        </Popper>\n      ) : null}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}