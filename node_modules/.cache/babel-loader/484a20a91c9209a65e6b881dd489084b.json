{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import CloudDownloadIcon from'@material-ui/icons/CloudDownload';import MenuItem from'@material-ui/core/MenuItem';import IconButton from'@material-ui/core/IconButton';import Link from'@material-ui/core/Link';import ArrowDropDownIcon from'@material-ui/icons/ArrowDropDown';import ArrowDropUpIcon from'@material-ui/icons/ArrowDropUp';import SettingsIcon from'@material-ui/icons/Settings';import CloseIcon from'@material-ui/icons/Close';import{SCROLL_CARD,BLACK_CARD,SECONDARY_CARD}from'./classNames';import LoadingIndicator from'./LoadingIndicator';import{PopperMenu}from'./shared-mui/components';var useStyles=makeStyles(function(theme){return{iconButton:{border:'none',marginLeft:0,background:'none',color:theme.palette.primaryForeground,paddingLeft:'0.25em',paddingRight:'0.25em',borderRadius:'2px','&:hover':{backgroundColor:theme.palette.primaryBackgroundLight},'&:first-child':{marginLeft:'0.25em'},'&:last-child':{marginRight:'0.25em'},'& svg':{width:'0.7em',height:'0.7em',verticalAlign:'middle',overflow:'visible'}},downloadLink:{color:theme.palette.primaryForeground}};});function SettingsIconWithArrow(_ref){var open=_ref.open;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SettingsIcon,null),open?/*#__PURE__*/React.createElement(ArrowDropUpIcon,null):/*#__PURE__*/React.createElement(ArrowDropDownIcon,null));}function PlotOptions(props){var options=props.options;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var classes=useStyles();return/*#__PURE__*/React.createElement(PopperMenu,{open:open,setOpen:setOpen,buttonIcon:/*#__PURE__*/React.createElement(SettingsIconWithArrow,{open:open}),buttonClassName:classes.iconButton,placement:\"bottom-end\"},options);}function CloudDownloadIconWithArrow(_ref2){var open=_ref2.open;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CloudDownloadIcon,null),open?/*#__PURE__*/React.createElement(ArrowDropUpIcon,null):/*#__PURE__*/React.createElement(ArrowDropDownIcon,null));}function DownloadOptions(props){var urls=props.urls;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var classes=useStyles();return/*#__PURE__*/React.createElement(PopperMenu,{open:open,setOpen:setOpen,buttonIcon:/*#__PURE__*/React.createElement(CloudDownloadIconWithArrow,{open:open}),buttonClassName:classes.iconButton,placement:\"bottom-end\"},urls.map(function(_ref3){var url=_ref3.url,name=_ref3.name;return/*#__PURE__*/React.createElement(MenuItem,{dense:true,key:url},/*#__PURE__*/React.createElement(Link,{underline:\"none\",href:url,target:\"_blank\",rel:\"noopener\",className:classes.downloadLink},\"Download \",name));}));}function ClosePaneButton(props){var removeGridComponent=props.removeGridComponent;var classes=useStyles();return/*#__PURE__*/React.createElement(IconButton,{onClick:removeGridComponent,size:\"small\",className:classes.iconButton,title:\"close\"},/*#__PURE__*/React.createElement(CloseIcon,null));}export default function TitleInfo(props){var title=props.title,info=props.info,children=props.children,isScroll=props.isScroll,isSpatial=props.isSpatial,removeGridComponent=props.removeGridComponent,urls=props.urls,isReady=props.isReady,options=props.options;// eslint-disable-next-line no-nested-ternary\nvar childClassName=isScroll?SCROLL_CARD:isSpatial?BLACK_CARD:SECONDARY_CARD;return/*#__PURE__*/ (// d-flex without wrapping div is not always full height; I don't understand the root cause.\nReact.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title-left\"},title),/*#__PURE__*/React.createElement(\"div\",{className:\"title-info\",title:info},info),/*#__PURE__*/React.createElement(\"div\",{className:\"title-buttons\"},options&&/*#__PURE__*/React.createElement(PlotOptions,{options:options}),urls&&urls.length>0&&/*#__PURE__*/React.createElement(DownloadOptions,{urls:urls}),/*#__PURE__*/React.createElement(ClosePaneButton,{removeGridComponent:removeGridComponent}))),/*#__PURE__*/React.createElement(\"div\",{className:childClassName},!isReady&&/*#__PURE__*/React.createElement(LoadingIndicator,null),children))// \"pl-2\" only matters when the window is very narrow.\n);}","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/src/components/TitleInfo.js"],"names":["React","useState","makeStyles","CloudDownloadIcon","MenuItem","IconButton","Link","ArrowDropDownIcon","ArrowDropUpIcon","SettingsIcon","CloseIcon","SCROLL_CARD","BLACK_CARD","SECONDARY_CARD","LoadingIndicator","PopperMenu","useStyles","theme","iconButton","border","marginLeft","background","color","palette","primaryForeground","paddingLeft","paddingRight","borderRadius","backgroundColor","primaryBackgroundLight","marginRight","width","height","verticalAlign","overflow","downloadLink","SettingsIconWithArrow","open","PlotOptions","props","options","setOpen","classes","CloudDownloadIconWithArrow","DownloadOptions","urls","map","url","name","ClosePaneButton","removeGridComponent","TitleInfo","title","info","children","isScroll","isSpatial","isReady","childClassName","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { SCROLL_CARD, BLACK_CARD, SECONDARY_CARD } from './classNames';\nimport LoadingIndicator from './LoadingIndicator';\nimport { PopperMenu } from './shared-mui/components';\n\nconst useStyles = makeStyles(theme => ({\n  iconButton: {\n    border: 'none',\n    marginLeft: 0,\n    background: 'none',\n    color: theme.palette.primaryForeground,\n    paddingLeft: '0.25em',\n    paddingRight: '0.25em',\n    borderRadius: '2px',\n    '&:hover': {\n      backgroundColor: theme.palette.primaryBackgroundLight,\n    },\n    '&:first-child': {\n      marginLeft: '0.25em',\n    },\n    '&:last-child': {\n      marginRight: '0.25em',\n    },\n    '& svg': {\n      width: '0.7em',\n      height: '0.7em',\n      verticalAlign: 'middle',\n      overflow: 'visible',\n    },\n  },\n  downloadLink: {\n    color: theme.palette.primaryForeground,\n  },\n}));\n\nfunction SettingsIconWithArrow({ open }) {\n  return (\n    <>\n      <SettingsIcon />\n      {open ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n    </>\n  );\n}\n\nfunction PlotOptions(props) {\n  const { options } = props;\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n  return (\n    <PopperMenu\n      open={open}\n      setOpen={setOpen}\n      buttonIcon={<SettingsIconWithArrow open={open} />}\n      buttonClassName={classes.iconButton}\n      placement=\"bottom-end\"\n    >\n      {options}\n    </PopperMenu>\n  );\n}\n\nfunction CloudDownloadIconWithArrow({ open }) {\n  return (\n    <>\n      <CloudDownloadIcon />\n      {open ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n    </>\n  );\n}\n\nfunction DownloadOptions(props) {\n  const { urls } = props;\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n  return (\n    <PopperMenu\n      open={open}\n      setOpen={setOpen}\n      buttonIcon={<CloudDownloadIconWithArrow open={open} />}\n      buttonClassName={classes.iconButton}\n      placement=\"bottom-end\"\n    >\n      {urls.map(({ url, name }) => (\n        <MenuItem dense key={url}>\n          <Link underline=\"none\" href={url} target=\"_blank\" rel=\"noopener\" className={classes.downloadLink}>\n            Download {name}\n          </Link>\n        </MenuItem>\n      ))}\n    </PopperMenu>\n  );\n}\n\nfunction ClosePaneButton(props) {\n  const { removeGridComponent } = props;\n  const classes = useStyles();\n  return (\n    <IconButton\n      onClick={removeGridComponent}\n      size=\"small\"\n      className={classes.iconButton}\n      title=\"close\"\n    >\n      <CloseIcon />\n    </IconButton>\n  );\n}\n\nexport default function TitleInfo(props) {\n  const {\n    title, info, children, isScroll, isSpatial, removeGridComponent, urls,\n    isReady, options,\n  } = props;\n  // eslint-disable-next-line no-nested-ternary\n  const childClassName = isScroll ? SCROLL_CARD : (isSpatial ? BLACK_CARD : SECONDARY_CARD);\n  return (\n    // d-flex without wrapping div is not always full height; I don't understand the root cause.\n    <>\n      <div className=\"title\">\n        <div className=\"title-left\">\n          {title}\n        </div>\n        <div className=\"title-info\" title={info}>\n          {info}\n        </div>\n        <div className=\"title-buttons\">\n          { options && (\n            <PlotOptions\n              options={options}\n            />\n          ) }\n          {urls && urls.length > 0 && (\n            <DownloadOptions\n              urls={urls}\n            />\n          )}\n          <ClosePaneButton\n            removeGridComponent={removeGridComponent}\n          />\n        </div>\n      </div>\n      <div className={childClassName}>\n        { !isReady && <LoadingIndicator /> }\n        {children}\n      </div>\n    </>\n    // \"pl-2\" only matters when the window is very narrow.\n  );\n}\n"]},"metadata":{},"sourceType":"module"}