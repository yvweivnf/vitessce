{"ast":null,"code":"function accessor(fn, fields, name) {\n  fn.fields = fields || [];\n  fn.fname = name;\n  return fn;\n}\n\nfunction accessorName(fn) {\n  return fn == null ? null : fn.fname;\n}\n\nfunction accessorFields(fn) {\n  return fn == null ? null : fn.fields;\n}\n\nfunction getter(path) {\n  return path.length === 1 ? get1(path[0]) : getN(path);\n}\n\nvar get1 = function get1(field) {\n  return function (obj) {\n    return obj[field];\n  };\n};\n\nvar getN = function getN(path) {\n  var len = path.length;\n  return function (obj) {\n    for (var i = 0; i < len; ++i) {\n      obj = obj[path[i]];\n    }\n\n    return obj;\n  };\n};\n\nfunction error(message) {\n  throw Error(message);\n}\n\nfunction splitAccessPath(p) {\n  var path = [],\n      n = p.length;\n  var q = null,\n      b = 0,\n      s = '',\n      i,\n      j,\n      c;\n  p = p + '';\n\n  function push() {\n    path.push(s + p.substring(i, j));\n    s = '';\n    i = j + 1;\n  }\n\n  for (i = j = 0; j < n; ++j) {\n    c = p[j];\n\n    if (c === '\\\\') {\n      s += p.substring(i, j);\n      s += p.substring(++j, ++j);\n      i = j;\n    } else if (c === q) {\n      push();\n      q = null;\n      b = -1;\n    } else if (q) {\n      continue;\n    } else if (i === b && c === '\"') {\n      i = j + 1;\n      q = c;\n    } else if (i === b && c === \"'\") {\n      i = j + 1;\n      q = c;\n    } else if (c === '.' && !b) {\n      if (j > i) {\n        push();\n      } else {\n        i = j + 1;\n      }\n    } else if (c === '[') {\n      if (j > i) push();\n      b = i = j + 1;\n    } else if (c === ']') {\n      if (!b) error('Access path missing open bracket: ' + p);\n      if (b > 0) push();\n      b = 0;\n      i = j + 1;\n    }\n  }\n\n  if (b) error('Access path missing closing bracket: ' + p);\n  if (q) error('Access path missing closing quote: ' + p);\n\n  if (j > i) {\n    j++;\n    push();\n  }\n\n  return path;\n}\n\nfunction field(field, name, opt) {\n  var path = splitAccessPath(field);\n  field = path.length === 1 ? path[0] : field;\n  return accessor((opt && opt.get || getter)(path), [field], name || field);\n}\n\nvar id = field('id');\nvar identity = accessor(function (_) {\n  return _;\n}, [], 'identity');\nvar zero = accessor(function () {\n  return 0;\n}, [], 'zero');\nvar one = accessor(function () {\n  return 1;\n}, [], 'one');\nvar truthy = accessor(function () {\n  return true;\n}, [], 'true');\nvar falsy = accessor(function () {\n  return false;\n}, [], 'false');\n\nfunction log$1(method, level, input) {\n  var args = [level].concat([].slice.call(input));\n  console[method].apply(console, args); // eslint-disable-line no-console\n}\n\nvar None = 0;\nvar Error$1 = 1;\nvar Warn = 2;\nvar Info = 3;\nvar Debug = 4;\n\nfunction logger(_, method) {\n  var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : log$1;\n\n  var _level = _ || None;\n\n  return {\n    level: function level(_) {\n      if (arguments.length) {\n        _level = +_;\n        return this;\n      } else {\n        return _level;\n      }\n    },\n    error: function error() {\n      if (_level >= Error$1) handler(method || 'error', 'ERROR', arguments);\n      return this;\n    },\n    warn: function warn() {\n      if (_level >= Warn) handler(method || 'warn', 'WARN', arguments);\n      return this;\n    },\n    info: function info() {\n      if (_level >= Info) handler(method || 'log', 'INFO', arguments);\n      return this;\n    },\n    debug: function debug() {\n      if (_level >= Debug) handler(method || 'log', 'DEBUG', arguments);\n      return this;\n    }\n  };\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject(_) {\n  return _ === Object(_);\n}\n\nvar isLegalKey = function isLegalKey(key) {\n  return key !== '__proto__';\n};\n\nfunction mergeConfig() {\n  for (var _len = arguments.length, configs = new Array(_len), _key = 0; _key < _len; _key++) {\n    configs[_key] = arguments[_key];\n  }\n\n  return configs.reduce(function (out, source) {\n    for (var _key2 in source) {\n      if (_key2 === 'signals') {\n        // for signals, we merge the signals arrays\n        // source signals take precedence over\n        // existing signals with the same name\n        out.signals = mergeNamed(out.signals, source.signals);\n      } else {\n        // otherwise, merge objects subject to recursion constraints\n        // for legend block, recurse for the layout entry only\n        // for style block, recurse for all properties\n        // otherwise, no recursion: objects overwrite, no merging\n        var r = _key2 === 'legend' ? {\n          layout: 1\n        } : _key2 === 'style' ? true : null;\n        writeConfig(out, _key2, source[_key2], r);\n      }\n    }\n\n    return out;\n  }, {});\n}\n\nfunction writeConfig(output, key, value, recurse) {\n  if (!isLegalKey(key)) return;\n  var k, o;\n\n  if (isObject(value) && !isArray(value)) {\n    o = isObject(output[key]) ? output[key] : output[key] = {};\n\n    for (k in value) {\n      if (recurse && (recurse === true || recurse[k])) {\n        writeConfig(o, k, value[k]);\n      } else if (isLegalKey(k)) {\n        o[k] = value[k];\n      }\n    }\n  } else {\n    output[key] = value;\n  }\n}\n\nfunction mergeNamed(a, b) {\n  if (a == null) return b;\n  var map = {},\n      out = [];\n\n  function add(_) {\n    if (!map[_.name]) {\n      map[_.name] = 1;\n      out.push(_);\n    }\n  }\n\n  b.forEach(add);\n  a.forEach(add);\n  return out;\n}\n\nfunction peek(array) {\n  return array[array.length - 1];\n}\n\nfunction toNumber(_) {\n  return _ == null || _ === '' ? null : +_;\n}\n\nvar exp = function exp(sign) {\n  return function (x) {\n    return sign * Math.exp(x);\n  };\n};\n\nvar log = function log(sign) {\n  return function (x) {\n    return Math.log(sign * x);\n  };\n};\n\nvar symlog = function symlog(c) {\n  return function (x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n};\n\nvar symexp = function symexp(c) {\n  return function (x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n};\n\nvar pow = function pow(exponent) {\n  return function (x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n};\n\nfunction pan(domain, delta, lift, ground) {\n  var d0 = lift(domain[0]),\n      d1 = lift(peek(domain)),\n      dd = (d1 - d0) * delta;\n  return [ground(d0 - dd), ground(d1 - dd)];\n}\n\nfunction panLinear(domain, delta) {\n  return pan(domain, delta, toNumber, identity);\n}\n\nfunction panLog(domain, delta) {\n  var sign = Math.sign(domain[0]);\n  return pan(domain, delta, log(sign), exp(sign));\n}\n\nfunction panPow(domain, delta, exponent) {\n  return pan(domain, delta, pow(exponent), pow(1 / exponent));\n}\n\nfunction panSymlog(domain, delta, constant) {\n  return pan(domain, delta, symlog(constant), symexp(constant));\n}\n\nfunction zoom(domain, anchor, scale, lift, ground) {\n  var d0 = lift(domain[0]),\n      d1 = lift(peek(domain)),\n      da = anchor != null ? lift(anchor) : (d0 + d1) / 2;\n  return [ground(da + (d0 - da) * scale), ground(da + (d1 - da) * scale)];\n}\n\nfunction zoomLinear(domain, anchor, scale) {\n  return zoom(domain, anchor, scale, toNumber, identity);\n}\n\nfunction zoomLog(domain, anchor, scale) {\n  var sign = Math.sign(domain[0]);\n  return zoom(domain, anchor, scale, log(sign), exp(sign));\n}\n\nfunction zoomPow(domain, anchor, scale, exponent) {\n  return zoom(domain, anchor, scale, pow(exponent), pow(1 / exponent));\n}\n\nfunction zoomSymlog(domain, anchor, scale, constant) {\n  return zoom(domain, anchor, scale, symlog(constant), symexp(constant));\n}\n\nfunction quarter(date) {\n  return 1 + ~~(new Date(date).getMonth() / 3);\n}\n\nfunction utcquarter(date) {\n  return 1 + ~~(new Date(date).getUTCMonth() / 3);\n}\n\nfunction array(_) {\n  return _ != null ? isArray(_) ? _ : [_] : [];\n}\n/**\n * Span-preserving range clamp. If the span of the input range is less\n * than (max - min) and an endpoint exceeds either the min or max value,\n * the range is translated such that the span is preserved and one\n * endpoint touches the boundary of the min/max range.\n * If the span exceeds (max - min), the range [min, max] is returned.\n */\n\n\nfunction clampRange(range, min, max) {\n  var lo = range[0],\n      hi = range[1],\n      span;\n\n  if (hi < lo) {\n    span = hi;\n    hi = lo;\n    lo = span;\n  }\n\n  span = hi - lo;\n  return span >= max - min ? [min, max] : [lo = Math.min(Math.max(lo, min), max - span), lo + span];\n}\n\nfunction isFunction(_) {\n  return typeof _ === 'function';\n}\n\nvar DESCENDING = 'descending';\n\nfunction compare(fields, orders, opt) {\n  opt = opt || {};\n  orders = array(orders) || [];\n  var ord = [],\n      get = [],\n      fmap = {},\n      gen = opt.comparator || comparator;\n  array(fields).forEach(function (f, i) {\n    if (f == null) return;\n    ord.push(orders[i] === DESCENDING ? -1 : 1);\n    get.push(f = isFunction(f) ? f : field(f, null, opt));\n    (accessorFields(f) || []).forEach(function (_) {\n      return fmap[_] = 1;\n    });\n  });\n  return get.length === 0 ? null : accessor(gen(get, ord), Object.keys(fmap));\n}\n\nvar ascending = function ascending(u, v) {\n  return (u < v || u == null) && v != null ? -1 : (u > v || v == null) && u != null ? 1 : (v = v instanceof Date ? +v : v, u = u instanceof Date ? +u : u) !== u && v === v ? -1 : v !== v && u === u ? 1 : 0;\n};\n\nvar comparator = function comparator(fields, orders) {\n  return fields.length === 1 ? compare1(fields[0], orders[0]) : compareN(fields, orders, fields.length);\n};\n\nvar compare1 = function compare1(field, order) {\n  return function (a, b) {\n    return ascending(field(a), field(b)) * order;\n  };\n};\n\nvar compareN = function compareN(fields, orders, n) {\n  orders.push(0); // pad zero for convenient lookup\n\n  return function (a, b) {\n    var f,\n        c = 0,\n        i = -1;\n\n    while (c === 0 && ++i < n) {\n      f = fields[i];\n      c = ascending(f(a), f(b));\n    }\n\n    return c * orders[i];\n  };\n};\n\nfunction constant(_) {\n  return isFunction(_) ? _ : function () {\n    return _;\n  };\n}\n\nfunction debounce(delay, handler) {\n  var tid;\n  return function (e) {\n    if (tid) clearTimeout(tid);\n    tid = setTimeout(function () {\n      return handler(e), tid = null;\n    }, delay);\n  };\n}\n\nfunction extend(_) {\n  for (var x, k, i = 1, len = arguments.length; i < len; ++i) {\n    x = arguments[i];\n\n    for (k in x) {\n      _[k] = x[k];\n    }\n  }\n\n  return _;\n}\n/**\n * Return an array with minimum and maximum values, in the\n * form [min, max]. Ignores null, undefined, and NaN values.\n */\n\n\nfunction extent(array, f) {\n  var i = 0,\n      n,\n      v,\n      min,\n      max;\n\n  if (array && (n = array.length)) {\n    if (f == null) {\n      // find first valid value\n      for (v = array[i]; i < n && (v == null || v !== v); v = array[++i]) {\n        ;\n      }\n\n      min = max = v; // visit all other values\n\n      for (; i < n; ++i) {\n        v = array[i]; // skip null/undefined; NaN will fail all comparisons\n\n        if (v != null) {\n          if (v < min) min = v;\n          if (v > max) max = v;\n        }\n      }\n    } else {\n      // find first valid value\n      for (v = f(array[i]); i < n && (v == null || v !== v); v = f(array[++i])) {\n        ;\n      }\n\n      min = max = v; // visit all other values\n\n      for (; i < n; ++i) {\n        v = f(array[i]); // skip null/undefined; NaN will fail all comparisons\n\n        if (v != null) {\n          if (v < min) min = v;\n          if (v > max) max = v;\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n\nfunction extentIndex(array, f) {\n  var n = array.length;\n  var i = -1,\n      a,\n      b,\n      c,\n      u,\n      v;\n\n  if (f == null) {\n    while (++i < n) {\n      b = array[i];\n\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n\n    if (i === n) return [-1, -1];\n    u = v = i;\n\n    while (++i < n) {\n      b = array[i];\n\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  } else {\n    while (++i < n) {\n      b = f(array[i], i, array);\n\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n\n    if (i === n) return [-1, -1];\n    u = v = i;\n\n    while (++i < n) {\n      b = f(array[i], i, array);\n\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  }\n\n  return [u, v];\n}\n\nvar hop = Object.prototype.hasOwnProperty;\n\nfunction _has(object, property) {\n  return hop.call(object, property);\n}\n\nvar NULL = {};\n\nfunction fastmap(input) {\n  var obj = {},\n      _test;\n\n  function has$1(key) {\n    return _has(obj, key) && obj[key] !== NULL;\n  }\n\n  var map = {\n    size: 0,\n    empty: 0,\n    object: obj,\n    has: has$1,\n    get: function get(key) {\n      return has$1(key) ? obj[key] : undefined;\n    },\n    set: function set(key, value) {\n      if (!has$1(key)) {\n        ++map.size;\n        if (obj[key] === NULL) --map.empty;\n      }\n\n      obj[key] = value;\n      return this;\n    },\n    delete: function _delete(key) {\n      if (has$1(key)) {\n        --map.size;\n        ++map.empty;\n        obj[key] = NULL;\n      }\n\n      return this;\n    },\n    clear: function clear() {\n      map.size = map.empty = 0;\n      map.object = obj = {};\n    },\n    test: function test(_) {\n      if (arguments.length) {\n        _test = _;\n        return map;\n      } else {\n        return _test;\n      }\n    },\n    clean: function clean() {\n      var next = {};\n      var size = 0;\n\n      for (var _key3 in obj) {\n        var value = obj[_key3];\n\n        if (value !== NULL && (!_test || !_test(value))) {\n          next[_key3] = value;\n          ++size;\n        }\n      }\n\n      map.size = size;\n      map.empty = 0;\n      map.object = obj = next;\n    }\n  };\n  if (input) Object.keys(input).forEach(function (key) {\n    map.set(key, input[key]);\n  });\n  return map;\n}\n\nfunction flush(range, value, threshold, left, right, center) {\n  if (!threshold && threshold !== 0) return center;\n  var t = +threshold;\n  var a = range[0],\n      b = peek(range),\n      l; // swap endpoints if range is reversed\n\n  if (b < a) {\n    l = a;\n    a = b;\n    b = l;\n  } // compare value to endpoints\n\n\n  l = Math.abs(value - a);\n  var r = Math.abs(b - value); // adjust if value is within threshold distance of endpoint\n\n  return l < r && l <= t ? left : r <= t ? right : center;\n}\n\nfunction inherits(child, parent, members) {\n  var proto = child.prototype = Object.create(parent.prototype);\n  Object.defineProperty(proto, 'constructor', {\n    value: child,\n    writable: true,\n    enumerable: true,\n    configurable: true\n  });\n  return extend(proto, members);\n}\n/**\n * Predicate that returns true if the value lies within the span\n * of the given range. The left and right flags control the use\n * of inclusive (true) or exclusive (false) comparisons.\n */\n\n\nfunction inrange(value, range, left, right) {\n  var r0 = range[0],\n      r1 = range[range.length - 1],\n      t;\n\n  if (r0 > r1) {\n    t = r0;\n    r0 = r1;\n    r1 = t;\n  }\n\n  left = left === undefined || left;\n  right = right === undefined || right;\n  return (left ? r0 <= value : r0 < value) && (right ? value <= r1 : value < r1);\n}\n\nfunction isBoolean(_) {\n  return typeof _ === 'boolean';\n}\n\nfunction isDate(_) {\n  return Object.prototype.toString.call(_) === '[object Date]';\n}\n\nfunction isIterable(_) {\n  return _ && isFunction(_[Symbol.iterator]);\n}\n\nfunction isNumber(_) {\n  return typeof _ === 'number';\n}\n\nfunction isRegExp(_) {\n  return Object.prototype.toString.call(_) === '[object RegExp]';\n}\n\nfunction isString(_) {\n  return typeof _ === 'string';\n}\n\nfunction key(fields, flat, opt) {\n  if (fields) {\n    fields = flat ? array(fields).map(function (f) {\n      return f.replace(/\\\\(.)/g, '$1');\n    }) : array(fields);\n  }\n\n  var len = fields && fields.length,\n      gen = opt && opt.get || getter,\n      map = function map(f) {\n    return gen(flat ? [f] : splitAccessPath(f));\n  };\n\n  var fn;\n\n  if (!len) {\n    fn = function fn() {\n      return '';\n    };\n  } else if (len === 1) {\n    var get = map(fields[0]);\n\n    fn = function fn(_) {\n      return '' + get(_);\n    };\n  } else {\n    var _get = fields.map(map);\n\n    fn = function fn(_) {\n      var s = '' + _get[0](_),\n          i = 0;\n\n      while (++i < len) {\n        s += '|' + _get[i](_);\n      }\n\n      return s;\n    };\n  }\n\n  return accessor(fn, fields, 'key');\n}\n\nfunction lerp(array, frac) {\n  var lo = array[0],\n      hi = peek(array),\n      f = +frac;\n  return !f ? lo : f === 1 ? hi : lo + f * (hi - lo);\n}\n\nvar DEFAULT_MAX_SIZE = 10000; // adapted from https://github.com/dominictarr/hashlru/ (MIT License)\n\nfunction lruCache(maxsize) {\n  maxsize = +maxsize || DEFAULT_MAX_SIZE;\n  var curr, prev, size;\n\n  var clear = function clear() {\n    curr = {};\n    prev = {};\n    size = 0;\n  };\n\n  var update = function update(key, value) {\n    if (++size > maxsize) {\n      prev = curr;\n      curr = {};\n      size = 1;\n    }\n\n    return curr[key] = value;\n  };\n\n  clear();\n  return {\n    clear: clear,\n    has: function has(key) {\n      return _has(curr, key) || _has(prev, key);\n    },\n    get: function get(key) {\n      return _has(curr, key) ? curr[key] : _has(prev, key) ? update(key, prev[key]) : undefined;\n    },\n    set: function set(key, value) {\n      return _has(curr, key) ? curr[key] = value : update(key, value);\n    }\n  };\n}\n\nfunction merge(compare, array0, array1, output) {\n  var n0 = array0.length,\n      n1 = array1.length;\n  if (!n1) return array0;\n  if (!n0) return array1;\n  var merged = output || new array0.constructor(n0 + n1);\n  var i0 = 0,\n      i1 = 0,\n      i = 0;\n\n  for (; i0 < n0 && i1 < n1; ++i) {\n    merged[i] = compare(array0[i0], array1[i1]) > 0 ? array1[i1++] : array0[i0++];\n  }\n\n  for (; i0 < n0; ++i0, ++i) {\n    merged[i] = array0[i0];\n  }\n\n  for (; i1 < n1; ++i1, ++i) {\n    merged[i] = array1[i1];\n  }\n\n  return merged;\n}\n\nfunction repeat(str, reps) {\n  var s = '';\n\n  while (--reps >= 0) {\n    s += str;\n  }\n\n  return s;\n}\n\nfunction pad(str, length, padchar, align) {\n  var c = padchar || ' ',\n      s = str + '',\n      n = length - s.length;\n  return n <= 0 ? s : align === 'left' ? repeat(c, n) + s : align === 'center' ? repeat(c, ~~(n / 2)) + s + repeat(c, Math.ceil(n / 2)) : s + repeat(c, n);\n}\n/**\n * Return the numerical span of an array: the difference between\n * the last and first values.\n */\n\n\nfunction span(array) {\n  return array && peek(array) - array[0] || 0;\n}\n\nfunction $(x) {\n  return isArray(x) ? '[' + x.map($) + ']' : isObject(x) || isString(x) ? // Output valid JSON and JS source strings.\n  // See http://timelessrepo.com/json-isnt-a-javascript-subset\n  JSON.stringify(x).replace(\"\\u2028\", \"\\\\u2028\").replace(\"\\u2029\", \"\\\\u2029\") : x;\n}\n\nfunction toBoolean(_) {\n  return _ == null || _ === '' ? null : !_ || _ === 'false' || _ === '0' ? false : !!_;\n}\n\nvar defaultParser = function defaultParser(_) {\n  return isNumber(_) ? _ : isDate(_) ? _ : Date.parse(_);\n};\n\nfunction toDate(_, parser) {\n  parser = parser || defaultParser;\n  return _ == null || _ === '' ? null : parser(_);\n}\n\nfunction toString(_) {\n  return _ == null || _ === '' ? null : _ + '';\n}\n\nfunction toSet(_) {\n  var s = {},\n      n = _.length;\n\n  for (var i = 0; i < n; ++i) {\n    s[_[i]] = true;\n  }\n\n  return s;\n}\n\nfunction truncate(str, length, align, ellipsis) {\n  var e = ellipsis != null ? ellipsis : \"\\u2026\",\n      s = str + '',\n      n = s.length,\n      l = Math.max(0, length - e.length);\n  return n <= length ? s : align === 'left' ? e + s.slice(n - l) : align === 'center' ? s.slice(0, Math.ceil(l / 2)) + e + s.slice(n - ~~(l / 2)) : s.slice(0, l) + e;\n}\n\nfunction visitArray(array, filter, visitor) {\n  if (array) {\n    if (filter) {\n      var n = array.length;\n\n      for (var i = 0; i < n; ++i) {\n        var t = filter(array[i]);\n        if (t) visitor(t, i, array);\n      }\n    } else {\n      array.forEach(visitor);\n    }\n  }\n}\n\nexport { Debug, Error$1 as Error, Info, None, Warn, accessor, accessorFields, accessorName, array, ascending, clampRange, compare, constant, debounce, error, extend, extent, extentIndex, falsy, fastmap, field, flush, _has as hasOwnProperty, id, identity, inherits, inrange, isArray, isBoolean, isDate, isFunction, isIterable, isNumber, isObject, isRegExp, isString, key, lerp, logger, lruCache, merge, mergeConfig, one, pad, panLinear, panLog, panPow, panSymlog, peek, quarter, repeat, span, splitAccessPath, $ as stringValue, toBoolean, toDate, toNumber, toSet, toString, truncate, truthy, utcquarter, visitArray, writeConfig, zero, zoomLinear, zoomLog, zoomPow, zoomSymlog };","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/node_modules/vega-util/build/vega-util.module.js"],"names":["accessor","fn","fields","name","fname","accessorName","accessorFields","getter","path","length","get1","getN","field","obj","len","i","error","message","Error","splitAccessPath","p","n","q","b","s","j","c","push","substring","opt","get","id","identity","_","zero","one","truthy","falsy","log$1","method","level","input","args","concat","slice","call","console","apply","None","Error$1","Warn","Info","Debug","logger","handler","arguments","warn","info","debug","isArray","Array","isObject","Object","isLegalKey","key","mergeConfig","configs","reduce","out","source","signals","mergeNamed","r","layout","writeConfig","output","value","recurse","k","o","a","map","add","forEach","peek","array","toNumber","exp","sign","x","Math","log","symlog","log1p","abs","symexp","expm1","pow","exponent","pan","domain","delta","lift","ground","d0","d1","dd","panLinear","panLog","panPow","panSymlog","constant","zoom","anchor","scale","da","zoomLinear","zoomLog","zoomPow","zoomSymlog","quarter","date","Date","getMonth","utcquarter","getUTCMonth","clampRange","range","min","max","lo","hi","span","isFunction","DESCENDING","compare","orders","ord","fmap","gen","comparator","f","keys","ascending","u","v","compare1","compareN","order","debounce","delay","tid","e","clearTimeout","setTimeout","extend","extent","extentIndex","hop","prototype","hasOwnProperty","has","object","property","NULL","fastmap","test","has$1","size","empty","undefined","set","delete","clear","clean","next","flush","threshold","left","right","center","t","l","inherits","child","parent","members","proto","create","defineProperty","writable","enumerable","configurable","inrange","r0","r1","isBoolean","isDate","toString","isIterable","Symbol","iterator","isNumber","isRegExp","isString","flat","replace","lerp","frac","DEFAULT_MAX_SIZE","lruCache","maxsize","curr","prev","update","merge","array0","array1","n0","n1","merged","constructor","i0","i1","repeat","str","reps","pad","padchar","align","ceil","$","JSON","stringify","toBoolean","defaultParser","parse","toDate","parser","toSet","truncate","ellipsis","visitArray","filter","visitor","stringValue"],"mappings":"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","sourcesContent":["function accessor (fn, fields, name) {\n  fn.fields = fields || [];\n  fn.fname = name;\n  return fn;\n}\nfunction accessorName(fn) {\n  return fn == null ? null : fn.fname;\n}\nfunction accessorFields(fn) {\n  return fn == null ? null : fn.fields;\n}\n\nfunction getter (path) {\n  return path.length === 1 ? get1(path[0]) : getN(path);\n}\n\nconst get1 = field => function (obj) {\n  return obj[field];\n};\n\nconst getN = path => {\n  const len = path.length;\n  return function (obj) {\n    for (let i = 0; i < len; ++i) {\n      obj = obj[path[i]];\n    }\n\n    return obj;\n  };\n};\n\nfunction error (message) {\n  throw Error(message);\n}\n\nfunction splitAccessPath (p) {\n  const path = [],\n        n = p.length;\n  let q = null,\n      b = 0,\n      s = '',\n      i,\n      j,\n      c;\n  p = p + '';\n\n  function push() {\n    path.push(s + p.substring(i, j));\n    s = '';\n    i = j + 1;\n  }\n\n  for (i = j = 0; j < n; ++j) {\n    c = p[j];\n\n    if (c === '\\\\') {\n      s += p.substring(i, j);\n      s += p.substring(++j, ++j);\n      i = j;\n    } else if (c === q) {\n      push();\n      q = null;\n      b = -1;\n    } else if (q) {\n      continue;\n    } else if (i === b && c === '\"') {\n      i = j + 1;\n      q = c;\n    } else if (i === b && c === \"'\") {\n      i = j + 1;\n      q = c;\n    } else if (c === '.' && !b) {\n      if (j > i) {\n        push();\n      } else {\n        i = j + 1;\n      }\n    } else if (c === '[') {\n      if (j > i) push();\n      b = i = j + 1;\n    } else if (c === ']') {\n      if (!b) error('Access path missing open bracket: ' + p);\n      if (b > 0) push();\n      b = 0;\n      i = j + 1;\n    }\n  }\n\n  if (b) error('Access path missing closing bracket: ' + p);\n  if (q) error('Access path missing closing quote: ' + p);\n\n  if (j > i) {\n    j++;\n    push();\n  }\n\n  return path;\n}\n\nfunction field (field, name, opt) {\n  const path = splitAccessPath(field);\n  field = path.length === 1 ? path[0] : field;\n  return accessor((opt && opt.get || getter)(path), [field], name || field);\n}\n\nconst id = field('id');\nconst identity = accessor(_ => _, [], 'identity');\nconst zero = accessor(() => 0, [], 'zero');\nconst one = accessor(() => 1, [], 'one');\nconst truthy = accessor(() => true, [], 'true');\nconst falsy = accessor(() => false, [], 'false');\n\nfunction log$1(method, level, input) {\n  const args = [level].concat([].slice.call(input));\n  console[method].apply(console, args); // eslint-disable-line no-console\n}\n\nconst None = 0;\nconst Error$1 = 1;\nconst Warn = 2;\nconst Info = 3;\nconst Debug = 4;\nfunction logger (_, method, handler = log$1) {\n  let level = _ || None;\n  return {\n    level(_) {\n      if (arguments.length) {\n        level = +_;\n        return this;\n      } else {\n        return level;\n      }\n    },\n\n    error() {\n      if (level >= Error$1) handler(method || 'error', 'ERROR', arguments);\n      return this;\n    },\n\n    warn() {\n      if (level >= Warn) handler(method || 'warn', 'WARN', arguments);\n      return this;\n    },\n\n    info() {\n      if (level >= Info) handler(method || 'log', 'INFO', arguments);\n      return this;\n    },\n\n    debug() {\n      if (level >= Debug) handler(method || 'log', 'DEBUG', arguments);\n      return this;\n    }\n\n  };\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject (_) {\n  return _ === Object(_);\n}\n\nconst isLegalKey = key => key !== '__proto__';\n\nfunction mergeConfig(...configs) {\n  return configs.reduce((out, source) => {\n    for (const key in source) {\n      if (key === 'signals') {\n        // for signals, we merge the signals arrays\n        // source signals take precedence over\n        // existing signals with the same name\n        out.signals = mergeNamed(out.signals, source.signals);\n      } else {\n        // otherwise, merge objects subject to recursion constraints\n        // for legend block, recurse for the layout entry only\n        // for style block, recurse for all properties\n        // otherwise, no recursion: objects overwrite, no merging\n        const r = key === 'legend' ? {\n          layout: 1\n        } : key === 'style' ? true : null;\n        writeConfig(out, key, source[key], r);\n      }\n    }\n\n    return out;\n  }, {});\n}\nfunction writeConfig(output, key, value, recurse) {\n  if (!isLegalKey(key)) return;\n  let k, o;\n\n  if (isObject(value) && !isArray(value)) {\n    o = isObject(output[key]) ? output[key] : output[key] = {};\n\n    for (k in value) {\n      if (recurse && (recurse === true || recurse[k])) {\n        writeConfig(o, k, value[k]);\n      } else if (isLegalKey(k)) {\n        o[k] = value[k];\n      }\n    }\n  } else {\n    output[key] = value;\n  }\n}\n\nfunction mergeNamed(a, b) {\n  if (a == null) return b;\n  const map = {},\n        out = [];\n\n  function add(_) {\n    if (!map[_.name]) {\n      map[_.name] = 1;\n      out.push(_);\n    }\n  }\n\n  b.forEach(add);\n  a.forEach(add);\n  return out;\n}\n\nfunction peek (array) {\n  return array[array.length - 1];\n}\n\nfunction toNumber (_) {\n  return _ == null || _ === '' ? null : +_;\n}\n\nconst exp = sign => x => sign * Math.exp(x);\n\nconst log = sign => x => Math.log(sign * x);\n\nconst symlog = c => x => Math.sign(x) * Math.log1p(Math.abs(x / c));\n\nconst symexp = c => x => Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n\nconst pow = exponent => x => x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n\nfunction pan(domain, delta, lift, ground) {\n  const d0 = lift(domain[0]),\n        d1 = lift(peek(domain)),\n        dd = (d1 - d0) * delta;\n  return [ground(d0 - dd), ground(d1 - dd)];\n}\n\nfunction panLinear(domain, delta) {\n  return pan(domain, delta, toNumber, identity);\n}\nfunction panLog(domain, delta) {\n  var sign = Math.sign(domain[0]);\n  return pan(domain, delta, log(sign), exp(sign));\n}\nfunction panPow(domain, delta, exponent) {\n  return pan(domain, delta, pow(exponent), pow(1 / exponent));\n}\nfunction panSymlog(domain, delta, constant) {\n  return pan(domain, delta, symlog(constant), symexp(constant));\n}\n\nfunction zoom(domain, anchor, scale, lift, ground) {\n  const d0 = lift(domain[0]),\n        d1 = lift(peek(domain)),\n        da = anchor != null ? lift(anchor) : (d0 + d1) / 2;\n  return [ground(da + (d0 - da) * scale), ground(da + (d1 - da) * scale)];\n}\n\nfunction zoomLinear(domain, anchor, scale) {\n  return zoom(domain, anchor, scale, toNumber, identity);\n}\nfunction zoomLog(domain, anchor, scale) {\n  const sign = Math.sign(domain[0]);\n  return zoom(domain, anchor, scale, log(sign), exp(sign));\n}\nfunction zoomPow(domain, anchor, scale, exponent) {\n  return zoom(domain, anchor, scale, pow(exponent), pow(1 / exponent));\n}\nfunction zoomSymlog(domain, anchor, scale, constant) {\n  return zoom(domain, anchor, scale, symlog(constant), symexp(constant));\n}\n\nfunction quarter(date) {\n  return 1 + ~~(new Date(date).getMonth() / 3);\n}\nfunction utcquarter(date) {\n  return 1 + ~~(new Date(date).getUTCMonth() / 3);\n}\n\nfunction array (_) {\n  return _ != null ? isArray(_) ? _ : [_] : [];\n}\n\n/**\n * Span-preserving range clamp. If the span of the input range is less\n * than (max - min) and an endpoint exceeds either the min or max value,\n * the range is translated such that the span is preserved and one\n * endpoint touches the boundary of the min/max range.\n * If the span exceeds (max - min), the range [min, max] is returned.\n */\nfunction clampRange (range, min, max) {\n  let lo = range[0],\n      hi = range[1],\n      span;\n\n  if (hi < lo) {\n    span = hi;\n    hi = lo;\n    lo = span;\n  }\n\n  span = hi - lo;\n  return span >= max - min ? [min, max] : [lo = Math.min(Math.max(lo, min), max - span), lo + span];\n}\n\nfunction isFunction (_) {\n  return typeof _ === 'function';\n}\n\nconst DESCENDING = 'descending';\nfunction compare (fields, orders, opt) {\n  opt = opt || {};\n  orders = array(orders) || [];\n  const ord = [],\n        get = [],\n        fmap = {},\n        gen = opt.comparator || comparator;\n  array(fields).forEach((f, i) => {\n    if (f == null) return;\n    ord.push(orders[i] === DESCENDING ? -1 : 1);\n    get.push(f = isFunction(f) ? f : field(f, null, opt));\n    (accessorFields(f) || []).forEach(_ => fmap[_] = 1);\n  });\n  return get.length === 0 ? null : accessor(gen(get, ord), Object.keys(fmap));\n}\nconst ascending = (u, v) => (u < v || u == null) && v != null ? -1 : (u > v || v == null) && u != null ? 1 : (v = v instanceof Date ? +v : v, u = u instanceof Date ? +u : u) !== u && v === v ? -1 : v !== v && u === u ? 1 : 0;\n\nconst comparator = (fields, orders) => fields.length === 1 ? compare1(fields[0], orders[0]) : compareN(fields, orders, fields.length);\n\nconst compare1 = (field, order) => function (a, b) {\n  return ascending(field(a), field(b)) * order;\n};\n\nconst compareN = (fields, orders, n) => {\n  orders.push(0); // pad zero for convenient lookup\n\n  return function (a, b) {\n    let f,\n        c = 0,\n        i = -1;\n\n    while (c === 0 && ++i < n) {\n      f = fields[i];\n      c = ascending(f(a), f(b));\n    }\n\n    return c * orders[i];\n  };\n};\n\nfunction constant (_) {\n  return isFunction(_) ? _ : () => _;\n}\n\nfunction debounce (delay, handler) {\n  let tid;\n  return e => {\n    if (tid) clearTimeout(tid);\n    tid = setTimeout(() => (handler(e), tid = null), delay);\n  };\n}\n\nfunction extend (_) {\n  for (let x, k, i = 1, len = arguments.length; i < len; ++i) {\n    x = arguments[i];\n\n    for (k in x) {\n      _[k] = x[k];\n    }\n  }\n\n  return _;\n}\n\n/**\n * Return an array with minimum and maximum values, in the\n * form [min, max]. Ignores null, undefined, and NaN values.\n */\nfunction extent (array, f) {\n  let i = 0,\n      n,\n      v,\n      min,\n      max;\n\n  if (array && (n = array.length)) {\n    if (f == null) {\n      // find first valid value\n      for (v = array[i]; i < n && (v == null || v !== v); v = array[++i]);\n\n      min = max = v; // visit all other values\n\n      for (; i < n; ++i) {\n        v = array[i]; // skip null/undefined; NaN will fail all comparisons\n\n        if (v != null) {\n          if (v < min) min = v;\n          if (v > max) max = v;\n        }\n      }\n    } else {\n      // find first valid value\n      for (v = f(array[i]); i < n && (v == null || v !== v); v = f(array[++i]));\n\n      min = max = v; // visit all other values\n\n      for (; i < n; ++i) {\n        v = f(array[i]); // skip null/undefined; NaN will fail all comparisons\n\n        if (v != null) {\n          if (v < min) min = v;\n          if (v > max) max = v;\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n\nfunction extentIndex (array, f) {\n  const n = array.length;\n  let i = -1,\n      a,\n      b,\n      c,\n      u,\n      v;\n\n  if (f == null) {\n    while (++i < n) {\n      b = array[i];\n\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n\n    if (i === n) return [-1, -1];\n    u = v = i;\n\n    while (++i < n) {\n      b = array[i];\n\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  } else {\n    while (++i < n) {\n      b = f(array[i], i, array);\n\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n\n    if (i === n) return [-1, -1];\n    u = v = i;\n\n    while (++i < n) {\n      b = f(array[i], i, array);\n\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  }\n\n  return [u, v];\n}\n\nconst hop = Object.prototype.hasOwnProperty;\nfunction has (object, property) {\n  return hop.call(object, property);\n}\n\nconst NULL = {};\nfunction fastmap (input) {\n  let obj = {},\n      test;\n\n  function has$1(key) {\n    return has(obj, key) && obj[key] !== NULL;\n  }\n\n  const map = {\n    size: 0,\n    empty: 0,\n    object: obj,\n    has: has$1,\n\n    get(key) {\n      return has$1(key) ? obj[key] : undefined;\n    },\n\n    set(key, value) {\n      if (!has$1(key)) {\n        ++map.size;\n        if (obj[key] === NULL) --map.empty;\n      }\n\n      obj[key] = value;\n      return this;\n    },\n\n    delete(key) {\n      if (has$1(key)) {\n        --map.size;\n        ++map.empty;\n        obj[key] = NULL;\n      }\n\n      return this;\n    },\n\n    clear() {\n      map.size = map.empty = 0;\n      map.object = obj = {};\n    },\n\n    test(_) {\n      if (arguments.length) {\n        test = _;\n        return map;\n      } else {\n        return test;\n      }\n    },\n\n    clean() {\n      const next = {};\n      let size = 0;\n\n      for (const key in obj) {\n        const value = obj[key];\n\n        if (value !== NULL && (!test || !test(value))) {\n          next[key] = value;\n          ++size;\n        }\n      }\n\n      map.size = size;\n      map.empty = 0;\n      map.object = obj = next;\n    }\n\n  };\n  if (input) Object.keys(input).forEach(key => {\n    map.set(key, input[key]);\n  });\n  return map;\n}\n\nfunction flush (range, value, threshold, left, right, center) {\n  if (!threshold && threshold !== 0) return center;\n  const t = +threshold;\n  let a = range[0],\n      b = peek(range),\n      l; // swap endpoints if range is reversed\n\n  if (b < a) {\n    l = a;\n    a = b;\n    b = l;\n  } // compare value to endpoints\n\n\n  l = Math.abs(value - a);\n  const r = Math.abs(b - value); // adjust if value is within threshold distance of endpoint\n\n  return l < r && l <= t ? left : r <= t ? right : center;\n}\n\nfunction inherits (child, parent, members) {\n  const proto = child.prototype = Object.create(parent.prototype);\n  Object.defineProperty(proto, 'constructor', {\n    value: child,\n    writable: true,\n    enumerable: true,\n    configurable: true\n  });\n  return extend(proto, members);\n}\n\n/**\n * Predicate that returns true if the value lies within the span\n * of the given range. The left and right flags control the use\n * of inclusive (true) or exclusive (false) comparisons.\n */\nfunction inrange (value, range, left, right) {\n  let r0 = range[0],\n      r1 = range[range.length - 1],\n      t;\n\n  if (r0 > r1) {\n    t = r0;\n    r0 = r1;\n    r1 = t;\n  }\n\n  left = left === undefined || left;\n  right = right === undefined || right;\n  return (left ? r0 <= value : r0 < value) && (right ? value <= r1 : value < r1);\n}\n\nfunction isBoolean (_) {\n  return typeof _ === 'boolean';\n}\n\nfunction isDate (_) {\n  return Object.prototype.toString.call(_) === '[object Date]';\n}\n\nfunction isIterable (_) {\n  return _ && isFunction(_[Symbol.iterator]);\n}\n\nfunction isNumber (_) {\n  return typeof _ === 'number';\n}\n\nfunction isRegExp (_) {\n  return Object.prototype.toString.call(_) === '[object RegExp]';\n}\n\nfunction isString (_) {\n  return typeof _ === 'string';\n}\n\nfunction key (fields, flat, opt) {\n  if (fields) {\n    fields = flat ? array(fields).map(f => f.replace(/\\\\(.)/g, '$1')) : array(fields);\n  }\n\n  const len = fields && fields.length,\n        gen = opt && opt.get || getter,\n        map = f => gen(flat ? [f] : splitAccessPath(f));\n\n  let fn;\n\n  if (!len) {\n    fn = function () {\n      return '';\n    };\n  } else if (len === 1) {\n    const get = map(fields[0]);\n\n    fn = function (_) {\n      return '' + get(_);\n    };\n  } else {\n    const get = fields.map(map);\n\n    fn = function (_) {\n      let s = '' + get[0](_),\n          i = 0;\n\n      while (++i < len) s += '|' + get[i](_);\n\n      return s;\n    };\n  }\n\n  return accessor(fn, fields, 'key');\n}\n\nfunction lerp (array, frac) {\n  const lo = array[0],\n        hi = peek(array),\n        f = +frac;\n  return !f ? lo : f === 1 ? hi : lo + f * (hi - lo);\n}\n\nconst DEFAULT_MAX_SIZE = 10000; // adapted from https://github.com/dominictarr/hashlru/ (MIT License)\n\nfunction lruCache (maxsize) {\n  maxsize = +maxsize || DEFAULT_MAX_SIZE;\n  let curr, prev, size;\n\n  const clear = () => {\n    curr = {};\n    prev = {};\n    size = 0;\n  };\n\n  const update = (key, value) => {\n    if (++size > maxsize) {\n      prev = curr;\n      curr = {};\n      size = 1;\n    }\n\n    return curr[key] = value;\n  };\n\n  clear();\n  return {\n    clear,\n    has: key => has(curr, key) || has(prev, key),\n    get: key => has(curr, key) ? curr[key] : has(prev, key) ? update(key, prev[key]) : undefined,\n    set: (key, value) => has(curr, key) ? curr[key] = value : update(key, value)\n  };\n}\n\nfunction merge (compare, array0, array1, output) {\n  const n0 = array0.length,\n        n1 = array1.length;\n  if (!n1) return array0;\n  if (!n0) return array1;\n  const merged = output || new array0.constructor(n0 + n1);\n  let i0 = 0,\n      i1 = 0,\n      i = 0;\n\n  for (; i0 < n0 && i1 < n1; ++i) {\n    merged[i] = compare(array0[i0], array1[i1]) > 0 ? array1[i1++] : array0[i0++];\n  }\n\n  for (; i0 < n0; ++i0, ++i) {\n    merged[i] = array0[i0];\n  }\n\n  for (; i1 < n1; ++i1, ++i) {\n    merged[i] = array1[i1];\n  }\n\n  return merged;\n}\n\nfunction repeat (str, reps) {\n  let s = '';\n\n  while (--reps >= 0) s += str;\n\n  return s;\n}\n\nfunction pad (str, length, padchar, align) {\n  const c = padchar || ' ',\n        s = str + '',\n        n = length - s.length;\n  return n <= 0 ? s : align === 'left' ? repeat(c, n) + s : align === 'center' ? repeat(c, ~~(n / 2)) + s + repeat(c, Math.ceil(n / 2)) : s + repeat(c, n);\n}\n\n/**\n * Return the numerical span of an array: the difference between\n * the last and first values.\n */\n\nfunction span (array) {\n  return array && peek(array) - array[0] || 0;\n}\n\nfunction $(x) {\n  return isArray(x) ? '[' + x.map($) + ']' : isObject(x) || isString(x) ? // Output valid JSON and JS source strings.\n  // See http://timelessrepo.com/json-isnt-a-javascript-subset\n  JSON.stringify(x).replace('\\u2028', '\\\\u2028').replace('\\u2029', '\\\\u2029') : x;\n}\n\nfunction toBoolean (_) {\n  return _ == null || _ === '' ? null : !_ || _ === 'false' || _ === '0' ? false : !!_;\n}\n\nconst defaultParser = _ => isNumber(_) ? _ : isDate(_) ? _ : Date.parse(_);\n\nfunction toDate (_, parser) {\n  parser = parser || defaultParser;\n  return _ == null || _ === '' ? null : parser(_);\n}\n\nfunction toString (_) {\n  return _ == null || _ === '' ? null : _ + '';\n}\n\nfunction toSet (_) {\n  const s = {},\n        n = _.length;\n\n  for (let i = 0; i < n; ++i) s[_[i]] = true;\n\n  return s;\n}\n\nfunction truncate (str, length, align, ellipsis) {\n  const e = ellipsis != null ? ellipsis : '\\u2026',\n        s = str + '',\n        n = s.length,\n        l = Math.max(0, length - e.length);\n  return n <= length ? s : align === 'left' ? e + s.slice(n - l) : align === 'center' ? s.slice(0, Math.ceil(l / 2)) + e + s.slice(n - ~~(l / 2)) : s.slice(0, l) + e;\n}\n\nfunction visitArray (array, filter, visitor) {\n  if (array) {\n    if (filter) {\n      const n = array.length;\n\n      for (let i = 0; i < n; ++i) {\n        const t = filter(array[i]);\n        if (t) visitor(t, i, array);\n      }\n    } else {\n      array.forEach(visitor);\n    }\n  }\n}\n\nexport { Debug, Error$1 as Error, Info, None, Warn, accessor, accessorFields, accessorName, array, ascending, clampRange, compare, constant, debounce, error, extend, extent, extentIndex, falsy, fastmap, field, flush, has as hasOwnProperty, id, identity, inherits, inrange, isArray, isBoolean, isDate, isFunction, isIterable, isNumber, isObject, isRegExp, isString, key, lerp, logger, lruCache, merge, mergeConfig, one, pad, panLinear, panLog, panPow, panSymlog, peek, quarter, repeat, span, splitAccessPath, $ as stringValue, toBoolean, toDate, toNumber, toSet, toString, truncate, truthy, utcquarter, visitArray, writeConfig, zero, zoomLinear, zoomLog, zoomPow, zoomSymlog };\n"]},"metadata":{},"sourceType":"module"}