{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\wkuo\\\\Documents\\\\vitessce-forked-v1.2.2\\\\vitessce\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import{openArray}from'zarr';import AbstractTwoStepLoader from'./AbstractTwoStepLoader';import LoaderResult from'./LoaderResult';var MatrixZarrLoader=/*#__PURE__*/function(_AbstractTwoStepLoade){_inherits(MatrixZarrLoader,_AbstractTwoStepLoade);var _super=_createSuper(MatrixZarrLoader);function MatrixZarrLoader(){_classCallCheck(this,MatrixZarrLoader);return _super.apply(this,arguments);}_createClass(MatrixZarrLoader,[{key:\"loadAttrs\",value:function loadAttrs(){if(this.attrs){return this.attrs;}this.attrs=this.dataSource.getJson('.zattrs');return this.attrs;}},{key:\"loadArr\",value:function loadArr(){var store=this.dataSource.store;if(this.arr){return this.arr;}this.arr=openArray({store:store,path:'/',mode:'r'}).then(function(z){return new Promise(function(resolve){z.getRaw([null,null]).then(resolve);});});return this.arr;}},{key:\"load\",value:function load(){return Promise.all([this.loadAttrs(),this.loadArr()]).then(function(data){return Promise.resolve(new LoaderResult(data,null));});}}]);return MatrixZarrLoader;}(AbstractTwoStepLoader);export{MatrixZarrLoader as default};","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/src/loaders/MatrixZarrLoader.js"],"names":["openArray","AbstractTwoStepLoader","LoaderResult","MatrixZarrLoader","attrs","dataSource","getJson","store","arr","path","mode","then","z","Promise","resolve","getRaw","all","loadAttrs","loadArr","data"],"mappings":"gtBAAA,OAASA,SAAT,KAA0B,MAA1B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,GAEqBC,CAAAA,gB,4TACP,CACV,GAAI,KAAKC,KAAT,CAAgB,CACd,MAAO,MAAKA,KAAZ,CACD,CACD,KAAKA,KAAL,CAAa,KAAKC,UAAL,CAAgBC,OAAhB,CAAwB,SAAxB,CAAb,CACA,MAAO,MAAKF,KAAZ,CACD,C,yCAES,IACAG,CAAAA,KADA,CACU,KAAKF,UADf,CACAE,KADA,CAER,GAAI,KAAKC,GAAT,CAAc,CACZ,MAAO,MAAKA,GAAZ,CACD,CACD,KAAKA,GAAL,CAAWR,SAAS,CAAC,CAAEO,KAAK,CAALA,KAAF,CAASE,IAAI,CAAE,GAAf,CAAoBC,IAAI,CAAE,GAA1B,CAAD,CAAT,CAA2CC,IAA3C,CAAgD,SAAAC,CAAC,QAAI,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAa,CACvFF,CAAC,CAACG,MAAF,CAAS,CAAC,IAAD,CAAO,IAAP,CAAT,EACGJ,IADH,CACQG,OADR,EAED,CAH+D,CAAJ,EAAjD,CAAX,CAIA,MAAO,MAAKN,GAAZ,CACD,C,mCAEM,CACL,MAAOK,CAAAA,OAAO,CACXG,GADI,CACA,CAAC,KAAKC,SAAL,EAAD,CAAmB,KAAKC,OAAL,EAAnB,CADA,EAEJP,IAFI,CAEC,SAAAQ,IAAI,QAAIN,CAAAA,OAAO,CAACC,OAAR,CAAgB,GAAIZ,CAAAA,YAAJ,CAAiBiB,IAAjB,CAAuB,IAAvB,CAAhB,CAAJ,EAFL,CAAP,CAGD,C,8BAzB2ClB,qB,SAAzBE,gB","sourcesContent":["import { openArray } from 'zarr';\nimport AbstractTwoStepLoader from './AbstractTwoStepLoader';\nimport LoaderResult from './LoaderResult';\n\nexport default class MatrixZarrLoader extends AbstractTwoStepLoader {\n  loadAttrs() {\n    if (this.attrs) {\n      return this.attrs;\n    }\n    this.attrs = this.dataSource.getJson('.zattrs');\n    return this.attrs;\n  }\n\n  loadArr() {\n    const { store } = this.dataSource;\n    if (this.arr) {\n      return this.arr;\n    }\n    this.arr = openArray({ store, path: '/', mode: 'r' }).then(z => new Promise((resolve) => {\n      z.getRaw([null, null])\n        .then(resolve);\n    }));\n    return this.arr;\n  }\n\n  load() {\n    return Promise\n      .all([this.loadAttrs(), this.loadArr()])\n      .then(data => Promise.resolve(new LoaderResult(data, null)));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}