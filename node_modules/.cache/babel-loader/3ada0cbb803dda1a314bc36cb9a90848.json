{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-animate/es/CSSMotion';\nimport toArray from 'rc-util/es/Children/toArray';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { nodeContextTypes } from './contextTypes';\nimport { getNodeChildren, getDataAndAria, mapChildren, warnOnlyTreeNode } from './util';\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar TreeNode = function (_React$Component) {\n  _inherits(TreeNode, _React$Component);\n\n  function TreeNode(props) {\n    _classCallCheck(this, TreeNode);\n\n    var _this = _possibleConstructorReturn(this, (TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    return _this;\n  }\n\n  _createClass(TreeNode, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return _extends({}, this.context, {\n        rcTreeNode: {// onUpCheckConduct: this.onUpCheckConduct,\n        }\n      });\n    } // Isomorphic needn't load data in server side\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var eventKey = this.props.eventKey;\n      var registerTreeNode = this.context.rcTree.registerTreeNode;\n      this.syncLoadData(this.props);\n      registerTreeNode(eventKey, this);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var eventKey = this.props.eventKey;\n      var registerTreeNode = this.context.rcTree.registerTreeNode;\n      registerTreeNode(eventKey, null);\n    } // Disabled item still can be switch\n    // Drag usage\n\n  }, {\n    key: 'isSelectable',\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.context.rcTree.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    } // Load data to avoid default expanded tree without data\n    // Switcher\n    // Checkbox\n    // Icon + Title\n    // Children list wrapped with `Animation`\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var loading = this.props.loading;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          dragOver = _props.dragOver,\n          dragOverGapTop = _props.dragOverGapTop,\n          dragOverGapBottom = _props.dragOverGapBottom,\n          isLeaf = _props.isLeaf,\n          expanded = _props.expanded,\n          selected = _props.selected,\n          checked = _props.checked,\n          halfChecked = _props.halfChecked,\n          otherProps = _objectWithoutProperties(_props, ['className', 'style', 'dragOver', 'dragOverGapTop', 'dragOverGapBottom', 'isLeaf', 'expanded', 'selected', 'checked', 'halfChecked']);\n\n      var _context$rcTree = this.context.rcTree,\n          prefixCls = _context$rcTree.prefixCls,\n          filterTreeNode = _context$rcTree.filterTreeNode,\n          draggable = _context$rcTree.draggable;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n      return React.createElement('li', _extends({\n        className: classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-treenode-disabled', disabled), _defineProperty(_classNames, prefixCls + '-treenode-switcher-' + (expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-checked', checked), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-indeterminate', halfChecked), _defineProperty(_classNames, prefixCls + '-treenode-selected', selected), _defineProperty(_classNames, prefixCls + '-treenode-loading', loading), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(this)), _classNames)),\n        style: style,\n        role: 'treeitem',\n        onDragEnter: draggable ? this.onDragEnter : undefined,\n        onDragOver: draggable ? this.onDragOver : undefined,\n        onDragLeave: draggable ? this.onDragLeave : undefined,\n        onDrop: draggable ? this.onDrop : undefined,\n        onDragEnd: draggable ? this.onDragEnd : undefined\n      }, dataOrAriaAttributeProps), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector(), this.renderChildren());\n    }\n  }]);\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  eventKey: PropTypes.string,\n  // Pass by parent `cloneElement`\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  root: PropTypes.object,\n  onSelect: PropTypes.func,\n  // By parent\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  checked: PropTypes.bool,\n  loaded: PropTypes.bool,\n  loading: PropTypes.bool,\n  halfChecked: PropTypes.bool,\n  children: PropTypes.node,\n  title: PropTypes.node,\n  pos: PropTypes.string,\n  dragOver: PropTypes.bool,\n  dragOverGapTop: PropTypes.bool,\n  dragOverGapBottom: PropTypes.bool,\n  // By user\n  isLeaf: PropTypes.bool,\n  checkable: PropTypes.bool,\n  selectable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  disableCheckbox: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nTreeNode.contextTypes = nodeContextTypes;\nTreeNode.childContextTypes = nodeContextTypes;\nTreeNode.defaultProps = {\n  title: defaultTitle\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onSelectorClick = function (e) {\n    // Click trigger before select/check operation\n    var onNodeClick = _this2.context.rcTree.onNodeClick;\n    onNodeClick(e, _this2);\n\n    if (_this2.isSelectable()) {\n      _this2.onSelect(e);\n    } else {\n      _this2.onCheck(e);\n    }\n  };\n\n  this.onSelectorDoubleClick = function (e) {\n    var onNodeDoubleClick = _this2.context.rcTree.onNodeDoubleClick;\n    onNodeDoubleClick(e, _this2);\n  };\n\n  this.onSelect = function (e) {\n    if (_this2.isDisabled()) return;\n    var onNodeSelect = _this2.context.rcTree.onNodeSelect;\n    e.preventDefault();\n    onNodeSelect(e, _this2);\n  };\n\n  this.onCheck = function (e) {\n    if (_this2.isDisabled()) return;\n    var _props2 = _this2.props,\n        disableCheckbox = _props2.disableCheckbox,\n        checked = _props2.checked;\n    var onNodeCheck = _this2.context.rcTree.onNodeCheck;\n    if (!_this2.isCheckable() || disableCheckbox) return;\n    e.preventDefault();\n    var targetChecked = !checked;\n    onNodeCheck(e, _this2, targetChecked);\n  };\n\n  this.onMouseEnter = function (e) {\n    var onNodeMouseEnter = _this2.context.rcTree.onNodeMouseEnter;\n    onNodeMouseEnter(e, _this2);\n  };\n\n  this.onMouseLeave = function (e) {\n    var onNodeMouseLeave = _this2.context.rcTree.onNodeMouseLeave;\n    onNodeMouseLeave(e, _this2);\n  };\n\n  this.onContextMenu = function (e) {\n    var onNodeContextMenu = _this2.context.rcTree.onNodeContextMenu;\n    onNodeContextMenu(e, _this2);\n  };\n\n  this.onDragStart = function (e) {\n    var onNodeDragStart = _this2.context.rcTree.onNodeDragStart;\n    e.stopPropagation();\n\n    _this2.setState({\n      dragNodeHighlight: true\n    });\n\n    onNodeDragStart(e, _this2);\n\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (error) {// empty\n    }\n  };\n\n  this.onDragEnter = function (e) {\n    var onNodeDragEnter = _this2.context.rcTree.onNodeDragEnter;\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragEnter(e, _this2);\n  };\n\n  this.onDragOver = function (e) {\n    var onNodeDragOver = _this2.context.rcTree.onNodeDragOver;\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragOver(e, _this2);\n  };\n\n  this.onDragLeave = function (e) {\n    var onNodeDragLeave = _this2.context.rcTree.onNodeDragLeave;\n    e.stopPropagation();\n    onNodeDragLeave(e, _this2);\n  };\n\n  this.onDragEnd = function (e) {\n    var onNodeDragEnd = _this2.context.rcTree.onNodeDragEnd;\n    e.stopPropagation();\n\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n\n    onNodeDragEnd(e, _this2);\n  };\n\n  this.onDrop = function (e) {\n    var onNodeDrop = _this2.context.rcTree.onNodeDrop;\n    e.preventDefault();\n    e.stopPropagation();\n\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n\n    onNodeDrop(e, _this2);\n  };\n\n  this.onExpand = function (e) {\n    var onNodeExpand = _this2.context.rcTree.onNodeExpand;\n    onNodeExpand(e, _this2);\n  };\n\n  this.setSelectHandle = function (node) {\n    _this2.selectHandle = node;\n  };\n\n  this.getNodeChildren = function () {\n    var children = _this2.props.children;\n    var originList = toArray(children).filter(function (node) {\n      return node;\n    });\n    var targetList = getNodeChildren(originList);\n\n    if (originList.length !== targetList.length) {\n      warnOnlyTreeNode();\n    }\n\n    return targetList;\n  };\n\n  this.getNodeState = function () {\n    var expanded = _this2.props.expanded;\n\n    if (_this2.isLeaf()) {\n      return null;\n    }\n\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  };\n\n  this.isLeaf = function () {\n    var _props3 = _this2.props,\n        isLeaf = _props3.isLeaf,\n        loaded = _props3.loaded;\n    var loadData = _this2.context.rcTree.loadData;\n    var hasChildren = _this2.getNodeChildren().length !== 0;\n\n    if (isLeaf === false) {\n      return false;\n    }\n\n    return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n  };\n\n  this.isDisabled = function () {\n    var disabled = _this2.props.disabled;\n    var treeDisabled = _this2.context.rcTree.disabled; // Follow the logic of Selectable\n\n    if (disabled === false) {\n      return false;\n    }\n\n    return !!(treeDisabled || disabled);\n  };\n\n  this.isCheckable = function () {\n    var checkable = _this2.props.checkable;\n    var treeCheckable = _this2.context.rcTree.checkable; // Return false if tree or treeNode is not checkable\n\n    if (!treeCheckable || checkable === false) return false;\n    return treeCheckable;\n  };\n\n  this.syncLoadData = function (props) {\n    var expanded = props.expanded,\n        loading = props.loading,\n        loaded = props.loaded;\n    var _context$rcTree2 = _this2.context.rcTree,\n        loadData = _context$rcTree2.loadData,\n        onNodeLoad = _context$rcTree2.onNodeLoad;\n    if (loading) return; // read from state to avoid loadData at same time\n\n    if (loadData && expanded && !_this2.isLeaf()) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      var hasChildren = _this2.getNodeChildren().length !== 0;\n\n      if (!hasChildren && !loaded) {\n        onNodeLoad(_this2);\n      }\n    }\n  };\n\n  this.renderSwitcher = function () {\n    var _props4 = _this2.props,\n        expanded = _props4.expanded,\n        switcherIconFromProps = _props4.switcherIcon;\n    var _context$rcTree3 = _this2.context.rcTree,\n        prefixCls = _context$rcTree3.prefixCls,\n        switcherIconFromCtx = _context$rcTree3.switcherIcon;\n    var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n    if (_this2.isLeaf()) {\n      return React.createElement('span', {\n        className: classNames(prefixCls + '-switcher', prefixCls + '-switcher-noop')\n      }, typeof switcherIcon === 'function' ? switcherIcon(_extends({}, _this2.props, {\n        isLeaf: true\n      })) : switcherIcon);\n    }\n\n    var switcherCls = classNames(prefixCls + '-switcher', prefixCls + '-switcher_' + (expanded ? ICON_OPEN : ICON_CLOSE));\n    return React.createElement('span', {\n      onClick: _this2.onExpand,\n      className: switcherCls\n    }, typeof switcherIcon === 'function' ? switcherIcon(_extends({}, _this2.props, {\n      isLeaf: false\n    })) : switcherIcon);\n  };\n\n  this.renderCheckbox = function () {\n    var _props5 = _this2.props,\n        checked = _props5.checked,\n        halfChecked = _props5.halfChecked,\n        disableCheckbox = _props5.disableCheckbox;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n\n    var disabled = _this2.isDisabled();\n\n    var checkable = _this2.isCheckable();\n\n    if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n    var $custom = typeof checkable !== 'boolean' ? checkable : null;\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-checkbox', checked && prefixCls + '-checkbox-checked', !checked && halfChecked && prefixCls + '-checkbox-indeterminate', (disabled || disableCheckbox) && prefixCls + '-checkbox-disabled'),\n      onClick: _this2.onCheck\n    }, $custom);\n  };\n\n  this.renderIcon = function () {\n    var loading = _this2.props.loading;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__' + (_this2.getNodeState() || 'docu'), loading && prefixCls + '-icon_loading')\n    });\n  };\n\n  this.renderSelector = function () {\n    var dragNodeHighlight = _this2.state.dragNodeHighlight;\n    var _props6 = _this2.props,\n        title = _props6.title,\n        selected = _props6.selected,\n        icon = _props6.icon,\n        loading = _props6.loading;\n    var _context$rcTree4 = _this2.context.rcTree,\n        prefixCls = _context$rcTree4.prefixCls,\n        showIcon = _context$rcTree4.showIcon,\n        treeIcon = _context$rcTree4.icon,\n        draggable = _context$rcTree4.draggable,\n        loadData = _context$rcTree4.loadData;\n\n    var disabled = _this2.isDisabled();\n\n    var wrapClass = prefixCls + '-node-content-wrapper'; // Icon - Still show loading icon when loading without showIcon\n\n    var $icon = void 0;\n\n    if (showIcon) {\n      var currentIcon = icon || treeIcon;\n      $icon = currentIcon ? React.createElement('span', {\n        className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__customize')\n      }, typeof currentIcon === 'function' ? React.createElement(currentIcon, _extends({}, _this2.props)) : currentIcon) : _this2.renderIcon();\n    } else if (loadData && loading) {\n      $icon = _this2.renderIcon();\n    } // Title\n\n\n    var $title = React.createElement('span', {\n      className: prefixCls + '-title'\n    }, title);\n    return React.createElement('span', {\n      ref: _this2.setSelectHandle,\n      title: typeof title === 'string' ? title : '',\n      className: classNames('' + wrapClass, wrapClass + '-' + (_this2.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && prefixCls + '-node-selected', !disabled && draggable && 'draggable'),\n      draggable: !disabled && draggable || undefined,\n      'aria-grabbed': !disabled && draggable || undefined,\n      onMouseEnter: _this2.onMouseEnter,\n      onMouseLeave: _this2.onMouseLeave,\n      onContextMenu: _this2.onContextMenu,\n      onClick: _this2.onSelectorClick,\n      onDoubleClick: _this2.onSelectorDoubleClick,\n      onDragStart: draggable ? _this2.onDragStart : undefined\n    }, $icon, $title);\n  };\n\n  this.renderChildren = function () {\n    var _props7 = _this2.props,\n        expanded = _props7.expanded,\n        pos = _props7.pos;\n    var _context$rcTree5 = _this2.context.rcTree,\n        prefixCls = _context$rcTree5.prefixCls,\n        motion = _context$rcTree5.motion,\n        renderTreeNode = _context$rcTree5.renderTreeNode; // Children TreeNode\n\n    var nodeList = _this2.getNodeChildren();\n\n    if (nodeList.length === 0) {\n      return null;\n    }\n\n    return React.createElement(CSSMotion, _extends({\n      visible: expanded\n    }, motion), function (_ref) {\n      var style = _ref.style,\n          className = _ref.className;\n      return React.createElement('ul', {\n        className: classNames(className, prefixCls + '-child-tree', expanded && prefixCls + '-child-tree-open'),\n        style: style,\n        'data-expanded': expanded,\n        role: 'group'\n      }, mapChildren(nodeList, function (node, index) {\n        return renderTreeNode(node, index, pos);\n      }));\n    });\n  };\n};\n\nTreeNode.isTreeNode = 1;\npolyfill(TreeNode);\nexport default TreeNode;","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/node_modules/rc-tree/es/TreeNode.js"],"names":["_defineProperty","_objectWithoutProperties","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","classNames","CSSMotion","toArray","polyfill","nodeContextTypes","getNodeChildren","getDataAndAria","mapChildren","warnOnlyTreeNode","ICON_OPEN","ICON_CLOSE","defaultTitle","TreeNode","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","_initialiseProps","state","dragNodeHighlight","key","value","getChildContext","context","rcTreeNode","componentDidMount","eventKey","registerTreeNode","rcTree","syncLoadData","componentDidUpdate","componentWillUnmount","isSelectable","selectable","treeSelectable","render","_classNames","loading","_props","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","expanded","selected","checked","halfChecked","otherProps","_context$rcTree","prefixCls","filterTreeNode","draggable","disabled","isDisabled","dataOrAriaAttributeProps","createElement","role","onDragEnter","undefined","onDragOver","onDragLeave","onDrop","onDragEnd","renderSwitcher","renderCheckbox","renderSelector","renderChildren","Component","propTypes","string","object","root","onSelect","func","bool","loaded","children","node","title","pos","checkable","disableCheckbox","icon","oneOfType","switcherIcon","contextTypes","childContextTypes","defaultProps","_this2","onSelectorClick","e","onNodeClick","onCheck","onSelectorDoubleClick","onNodeDoubleClick","onNodeSelect","preventDefault","_props2","onNodeCheck","isCheckable","targetChecked","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","stopPropagation","setState","dataTransfer","setData","error","onNodeDragEnter","onNodeDragOver","onNodeDragLeave","onNodeDragEnd","onNodeDrop","onExpand","onNodeExpand","setSelectHandle","selectHandle","originList","filter","targetList","length","getNodeState","_props3","loadData","hasChildren","treeDisabled","treeCheckable","_context$rcTree2","onNodeLoad","_props4","switcherIconFromProps","_context$rcTree3","switcherIconFromCtx","switcherCls","onClick","_props5","$custom","renderIcon","_props6","_context$rcTree4","showIcon","treeIcon","wrapClass","$icon","currentIcon","$title","ref","onDoubleClick","_props7","_context$rcTree5","motion","renderTreeNode","nodeList","visible","_ref","index","isTreeNode"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-animate/es/CSSMotion';\nimport toArray from 'rc-util/es/Children/toArray';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { nodeContextTypes } from './contextTypes';\nimport { getNodeChildren, getDataAndAria, mapChildren, warnOnlyTreeNode } from './util';\n\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\n\nvar defaultTitle = '---';\n\nvar TreeNode = function (_React$Component) {\n  _inherits(TreeNode, _React$Component);\n\n  function TreeNode(props) {\n    _classCallCheck(this, TreeNode);\n\n    var _this = _possibleConstructorReturn(this, (TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    return _this;\n  }\n\n  _createClass(TreeNode, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return _extends({}, this.context, {\n        rcTreeNode: {\n          // onUpCheckConduct: this.onUpCheckConduct,\n        }\n      });\n    }\n\n    // Isomorphic needn't load data in server side\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var eventKey = this.props.eventKey;\n      var registerTreeNode = this.context.rcTree.registerTreeNode;\n\n\n      this.syncLoadData(this.props);\n\n      registerTreeNode(eventKey, this);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var eventKey = this.props.eventKey;\n      var registerTreeNode = this.context.rcTree.registerTreeNode;\n\n      registerTreeNode(eventKey, null);\n    }\n\n    // Disabled item still can be switch\n\n\n    // Drag usage\n\n  }, {\n    key: 'isSelectable',\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.context.rcTree.selectable;\n\n      // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n\n    // Load data to avoid default expanded tree without data\n\n\n    // Switcher\n\n\n    // Checkbox\n\n\n    // Icon + Title\n\n\n    // Children list wrapped with `Animation`\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var loading = this.props.loading;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          dragOver = _props.dragOver,\n          dragOverGapTop = _props.dragOverGapTop,\n          dragOverGapBottom = _props.dragOverGapBottom,\n          isLeaf = _props.isLeaf,\n          expanded = _props.expanded,\n          selected = _props.selected,\n          checked = _props.checked,\n          halfChecked = _props.halfChecked,\n          otherProps = _objectWithoutProperties(_props, ['className', 'style', 'dragOver', 'dragOverGapTop', 'dragOverGapBottom', 'isLeaf', 'expanded', 'selected', 'checked', 'halfChecked']);\n\n      var _context$rcTree = this.context.rcTree,\n          prefixCls = _context$rcTree.prefixCls,\n          filterTreeNode = _context$rcTree.filterTreeNode,\n          draggable = _context$rcTree.draggable;\n\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n\n      return React.createElement(\n        'li',\n        _extends({\n          className: classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-treenode-disabled', disabled), _defineProperty(_classNames, prefixCls + '-treenode-switcher-' + (expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-checked', checked), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-indeterminate', halfChecked), _defineProperty(_classNames, prefixCls + '-treenode-selected', selected), _defineProperty(_classNames, prefixCls + '-treenode-loading', loading), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(this)), _classNames)),\n\n          style: style,\n\n          role: 'treeitem',\n\n          onDragEnter: draggable ? this.onDragEnter : undefined,\n          onDragOver: draggable ? this.onDragOver : undefined,\n          onDragLeave: draggable ? this.onDragLeave : undefined,\n          onDrop: draggable ? this.onDrop : undefined,\n          onDragEnd: draggable ? this.onDragEnd : undefined\n        }, dataOrAriaAttributeProps),\n        this.renderSwitcher(),\n        this.renderCheckbox(),\n        this.renderSelector(),\n        this.renderChildren()\n      );\n    }\n  }]);\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  eventKey: PropTypes.string, // Pass by parent `cloneElement`\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  root: PropTypes.object,\n  onSelect: PropTypes.func,\n\n  // By parent\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  checked: PropTypes.bool,\n  loaded: PropTypes.bool,\n  loading: PropTypes.bool,\n  halfChecked: PropTypes.bool,\n  children: PropTypes.node,\n  title: PropTypes.node,\n  pos: PropTypes.string,\n  dragOver: PropTypes.bool,\n  dragOverGapTop: PropTypes.bool,\n  dragOverGapBottom: PropTypes.bool,\n\n  // By user\n  isLeaf: PropTypes.bool,\n  checkable: PropTypes.bool,\n  selectable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  disableCheckbox: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nTreeNode.contextTypes = nodeContextTypes;\nTreeNode.childContextTypes = nodeContextTypes;\nTreeNode.defaultProps = {\n  title: defaultTitle\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onSelectorClick = function (e) {\n    // Click trigger before select/check operation\n    var onNodeClick = _this2.context.rcTree.onNodeClick;\n\n    onNodeClick(e, _this2);\n\n    if (_this2.isSelectable()) {\n      _this2.onSelect(e);\n    } else {\n      _this2.onCheck(e);\n    }\n  };\n\n  this.onSelectorDoubleClick = function (e) {\n    var onNodeDoubleClick = _this2.context.rcTree.onNodeDoubleClick;\n\n    onNodeDoubleClick(e, _this2);\n  };\n\n  this.onSelect = function (e) {\n    if (_this2.isDisabled()) return;\n\n    var onNodeSelect = _this2.context.rcTree.onNodeSelect;\n\n    e.preventDefault();\n    onNodeSelect(e, _this2);\n  };\n\n  this.onCheck = function (e) {\n    if (_this2.isDisabled()) return;\n\n    var _props2 = _this2.props,\n        disableCheckbox = _props2.disableCheckbox,\n        checked = _props2.checked;\n    var onNodeCheck = _this2.context.rcTree.onNodeCheck;\n\n\n    if (!_this2.isCheckable() || disableCheckbox) return;\n\n    e.preventDefault();\n    var targetChecked = !checked;\n    onNodeCheck(e, _this2, targetChecked);\n  };\n\n  this.onMouseEnter = function (e) {\n    var onNodeMouseEnter = _this2.context.rcTree.onNodeMouseEnter;\n\n    onNodeMouseEnter(e, _this2);\n  };\n\n  this.onMouseLeave = function (e) {\n    var onNodeMouseLeave = _this2.context.rcTree.onNodeMouseLeave;\n\n    onNodeMouseLeave(e, _this2);\n  };\n\n  this.onContextMenu = function (e) {\n    var onNodeContextMenu = _this2.context.rcTree.onNodeContextMenu;\n\n    onNodeContextMenu(e, _this2);\n  };\n\n  this.onDragStart = function (e) {\n    var onNodeDragStart = _this2.context.rcTree.onNodeDragStart;\n\n\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: true\n    });\n    onNodeDragStart(e, _this2);\n\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (error) {\n      // empty\n    }\n  };\n\n  this.onDragEnter = function (e) {\n    var onNodeDragEnter = _this2.context.rcTree.onNodeDragEnter;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragEnter(e, _this2);\n  };\n\n  this.onDragOver = function (e) {\n    var onNodeDragOver = _this2.context.rcTree.onNodeDragOver;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragOver(e, _this2);\n  };\n\n  this.onDragLeave = function (e) {\n    var onNodeDragLeave = _this2.context.rcTree.onNodeDragLeave;\n\n\n    e.stopPropagation();\n    onNodeDragLeave(e, _this2);\n  };\n\n  this.onDragEnd = function (e) {\n    var onNodeDragEnd = _this2.context.rcTree.onNodeDragEnd;\n\n\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n    onNodeDragEnd(e, _this2);\n  };\n\n  this.onDrop = function (e) {\n    var onNodeDrop = _this2.context.rcTree.onNodeDrop;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n    onNodeDrop(e, _this2);\n  };\n\n  this.onExpand = function (e) {\n    var onNodeExpand = _this2.context.rcTree.onNodeExpand;\n\n    onNodeExpand(e, _this2);\n  };\n\n  this.setSelectHandle = function (node) {\n    _this2.selectHandle = node;\n  };\n\n  this.getNodeChildren = function () {\n    var children = _this2.props.children;\n\n    var originList = toArray(children).filter(function (node) {\n      return node;\n    });\n    var targetList = getNodeChildren(originList);\n\n    if (originList.length !== targetList.length) {\n      warnOnlyTreeNode();\n    }\n\n    return targetList;\n  };\n\n  this.getNodeState = function () {\n    var expanded = _this2.props.expanded;\n\n\n    if (_this2.isLeaf()) {\n      return null;\n    }\n\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  };\n\n  this.isLeaf = function () {\n    var _props3 = _this2.props,\n        isLeaf = _props3.isLeaf,\n        loaded = _props3.loaded;\n    var loadData = _this2.context.rcTree.loadData;\n\n\n    var hasChildren = _this2.getNodeChildren().length !== 0;\n\n    if (isLeaf === false) {\n      return false;\n    }\n\n    return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n  };\n\n  this.isDisabled = function () {\n    var disabled = _this2.props.disabled;\n    var treeDisabled = _this2.context.rcTree.disabled;\n\n    // Follow the logic of Selectable\n\n    if (disabled === false) {\n      return false;\n    }\n\n    return !!(treeDisabled || disabled);\n  };\n\n  this.isCheckable = function () {\n    var checkable = _this2.props.checkable;\n    var treeCheckable = _this2.context.rcTree.checkable;\n\n    // Return false if tree or treeNode is not checkable\n\n    if (!treeCheckable || checkable === false) return false;\n    return treeCheckable;\n  };\n\n  this.syncLoadData = function (props) {\n    var expanded = props.expanded,\n        loading = props.loading,\n        loaded = props.loaded;\n    var _context$rcTree2 = _this2.context.rcTree,\n        loadData = _context$rcTree2.loadData,\n        onNodeLoad = _context$rcTree2.onNodeLoad;\n\n\n    if (loading) return;\n\n    // read from state to avoid loadData at same time\n    if (loadData && expanded && !_this2.isLeaf()) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      var hasChildren = _this2.getNodeChildren().length !== 0;\n      if (!hasChildren && !loaded) {\n        onNodeLoad(_this2);\n      }\n    }\n  };\n\n  this.renderSwitcher = function () {\n    var _props4 = _this2.props,\n        expanded = _props4.expanded,\n        switcherIconFromProps = _props4.switcherIcon;\n    var _context$rcTree3 = _this2.context.rcTree,\n        prefixCls = _context$rcTree3.prefixCls,\n        switcherIconFromCtx = _context$rcTree3.switcherIcon;\n\n\n    var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n    if (_this2.isLeaf()) {\n      return React.createElement(\n        'span',\n        { className: classNames(prefixCls + '-switcher', prefixCls + '-switcher-noop') },\n        typeof switcherIcon === 'function' ? switcherIcon(_extends({}, _this2.props, { isLeaf: true })) : switcherIcon\n      );\n    }\n\n    var switcherCls = classNames(prefixCls + '-switcher', prefixCls + '-switcher_' + (expanded ? ICON_OPEN : ICON_CLOSE));\n    return React.createElement(\n      'span',\n      { onClick: _this2.onExpand, className: switcherCls },\n      typeof switcherIcon === 'function' ? switcherIcon(_extends({}, _this2.props, { isLeaf: false })) : switcherIcon\n    );\n  };\n\n  this.renderCheckbox = function () {\n    var _props5 = _this2.props,\n        checked = _props5.checked,\n        halfChecked = _props5.halfChecked,\n        disableCheckbox = _props5.disableCheckbox;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n\n    var disabled = _this2.isDisabled();\n    var checkable = _this2.isCheckable();\n\n    if (!checkable) return null;\n\n    // [Legacy] Custom element should be separate with `checkable` in future\n    var $custom = typeof checkable !== 'boolean' ? checkable : null;\n\n    return React.createElement(\n      'span',\n      {\n        className: classNames(prefixCls + '-checkbox', checked && prefixCls + '-checkbox-checked', !checked && halfChecked && prefixCls + '-checkbox-indeterminate', (disabled || disableCheckbox) && prefixCls + '-checkbox-disabled'),\n        onClick: _this2.onCheck\n      },\n      $custom\n    );\n  };\n\n  this.renderIcon = function () {\n    var loading = _this2.props.loading;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n\n\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__' + (_this2.getNodeState() || 'docu'), loading && prefixCls + '-icon_loading')\n    });\n  };\n\n  this.renderSelector = function () {\n    var dragNodeHighlight = _this2.state.dragNodeHighlight;\n    var _props6 = _this2.props,\n        title = _props6.title,\n        selected = _props6.selected,\n        icon = _props6.icon,\n        loading = _props6.loading;\n    var _context$rcTree4 = _this2.context.rcTree,\n        prefixCls = _context$rcTree4.prefixCls,\n        showIcon = _context$rcTree4.showIcon,\n        treeIcon = _context$rcTree4.icon,\n        draggable = _context$rcTree4.draggable,\n        loadData = _context$rcTree4.loadData;\n\n    var disabled = _this2.isDisabled();\n\n    var wrapClass = prefixCls + '-node-content-wrapper';\n\n    // Icon - Still show loading icon when loading without showIcon\n    var $icon = void 0;\n\n    if (showIcon) {\n      var currentIcon = icon || treeIcon;\n\n      $icon = currentIcon ? React.createElement(\n        'span',\n        {\n          className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__customize')\n        },\n        typeof currentIcon === 'function' ? React.createElement(currentIcon, _extends({}, _this2.props)) : currentIcon\n      ) : _this2.renderIcon();\n    } else if (loadData && loading) {\n      $icon = _this2.renderIcon();\n    }\n\n    // Title\n    var $title = React.createElement(\n      'span',\n      { className: prefixCls + '-title' },\n      title\n    );\n\n    return React.createElement(\n      'span',\n      {\n        ref: _this2.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: classNames('' + wrapClass, wrapClass + '-' + (_this2.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && prefixCls + '-node-selected', !disabled && draggable && 'draggable'),\n        draggable: !disabled && draggable || undefined,\n        'aria-grabbed': !disabled && draggable || undefined,\n\n        onMouseEnter: _this2.onMouseEnter,\n        onMouseLeave: _this2.onMouseLeave,\n        onContextMenu: _this2.onContextMenu,\n        onClick: _this2.onSelectorClick,\n        onDoubleClick: _this2.onSelectorDoubleClick,\n        onDragStart: draggable ? _this2.onDragStart : undefined\n      },\n      $icon,\n      $title\n    );\n  };\n\n  this.renderChildren = function () {\n    var _props7 = _this2.props,\n        expanded = _props7.expanded,\n        pos = _props7.pos;\n    var _context$rcTree5 = _this2.context.rcTree,\n        prefixCls = _context$rcTree5.prefixCls,\n        motion = _context$rcTree5.motion,\n        renderTreeNode = _context$rcTree5.renderTreeNode;\n\n    // Children TreeNode\n\n    var nodeList = _this2.getNodeChildren();\n\n    if (nodeList.length === 0) {\n      return null;\n    }\n    return React.createElement(\n      CSSMotion,\n      _extends({ visible: expanded }, motion),\n      function (_ref) {\n        var style = _ref.style,\n            className = _ref.className;\n\n        return React.createElement(\n          'ul',\n          {\n            className: classNames(className, prefixCls + '-child-tree', expanded && prefixCls + '-child-tree-open'),\n            style: style,\n            'data-expanded': expanded,\n            role: 'group'\n          },\n          mapChildren(nodeList, function (node, index) {\n            return renderTreeNode(node, index, pos);\n          })\n        );\n      }\n    );\n  };\n};\n\nTreeNode.isTreeNode = 1;\n\npolyfill(TreeNode);\n\nexport default TreeNode;"]},"metadata":{},"sourceType":"module"}