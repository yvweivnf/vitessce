{"ast":null,"code":"import { ChildProcessProxy } from '@loaders.gl/worker-utils';\nexport async function encodeImageURLToCompressedTextureURL(inputUrl, outputUrl, options) {\n  const args = ['texture-compressor', '--type', 's3tc', '--compression', 'DXT1', '--quality', 'normal', '--input', inputUrl, '--output', outputUrl];\n  const childProcess = new ChildProcessProxy();\n  await childProcess.start({\n    command: 'npx',\n    arguments: args,\n    spawn: options\n  });\n  return outputUrl;\n}","map":{"version":3,"sources":["../../../../src/lib/encoders/encode-texture.ts"],"names":["args","childProcess","command","arguments","spawn","options"],"mappings":"AAAA,SAAA,iBAAA,QAAA,0BAAA;AAKA,OAAO,eAAA,oCAAA,CAAA,QAAA,EAAA,SAAA,EAAA,OAAA,EAIY;AAEjB,QAAMA,IAAI,GAAG,CAAA,oBAAA,EAAA,QAAA,EAAA,MAAA,EAAA,eAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAb,SAAa,CAAb;AASA,QAAMC,YAAY,GAAG,IAArB,iBAAqB,EAArB;AACA,QAAM,YAAY,CAAZ,KAAA,CAAmB;AACvBC,IAAAA,OAAO,EADgB,KAAA;AAEvBC,IAAAA,SAAS,EAFc,IAAA;AAGvBC,IAAAA,KAAK,EAAEC;AAHgB,GAAnB,CAAN;AAKA,SAAA,SAAA;AACD","sourcesContent":["import {ChildProcessProxy} from '@loaders.gl/worker-utils';\n\n/*\n * @see https://github.com/TimvanScherpenzeel/texture-compressor\n */\nexport async function encodeImageURLToCompressedTextureURL(\n  inputUrl: string,\n  outputUrl: string,\n  options?: {cwd?: string}\n): Promise<string> {\n  // prettier-ignore\n  const args = [\n    // Note: our actual executable is `npx`, so `texture-compressor` is an argument\n    'texture-compressor',\n    '--type', 's3tc',\n    '--compression', 'DXT1',\n    '--quality', 'normal',\n    '--input', inputUrl,\n    '--output', outputUrl\n  ];\n  const childProcess = new ChildProcessProxy();\n  await childProcess.start({\n    command: 'npx',\n    arguments: args,\n    spawn: options\n  });\n  return outputUrl;\n}\n"]},"metadata":{},"sourceType":"module"}