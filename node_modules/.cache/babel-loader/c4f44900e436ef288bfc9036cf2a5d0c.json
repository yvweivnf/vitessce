{"ast":null,"code":"export default function quickselect(arr, k, left, right, compare) {\n  quickselectStep(arr, k, left || 0, right || arr.length - 1, compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n  while (right > left) {\n    if (right - left > 600) {\n      var n = right - left + 1;\n      var m = k - left + 1;\n      var z = Math.log(n);\n      var s = 0.5 * Math.exp(2 * z / 3);\n      var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselectStep(arr, k, newLeft, newRight, compare);\n    }\n\n    var t = arr[k];\n    var i = left;\n    var j = right;\n    swap(arr, left, k);\n    if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n\n      while (compare(arr[i], t) < 0) i++;\n\n      while (compare(arr[j], t) > 0) j--;\n    }\n\n    if (compare(arr[left], t) === 0) swap(arr, left, j);else {\n      j++;\n      swap(arr, j, right);\n    }\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/node_modules/@hms-dbmi/viv/node_modules/quickselect/index.js"],"names":["quickselect","arr","k","left","right","compare","quickselectStep","length","defaultCompare","n","m","z","Math","log","s","exp","sd","sqrt","newLeft","max","floor","newRight","min","t","i","j","swap","tmp","a","b"],"mappings":"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","sourcesContent":["\nexport default function quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n"]},"metadata":{},"sourceType":"module"}