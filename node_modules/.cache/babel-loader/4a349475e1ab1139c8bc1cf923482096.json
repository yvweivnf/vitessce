{"ast":null,"code":"import * as node from '../node/buffer';\nexport function isBuffer(value) {\n  return value && typeof value === 'object' && value.isBuffer;\n}\nexport function toBuffer(data) {\n  return node.toBuffer ? node.toBuffer(data) : data;\n}\nexport function bufferToArrayBuffer(buffer) {\n  if (isBuffer(buffer)) {\n    const typedArray = new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.length);\n    return typedArray.slice().buffer;\n  }\n\n  return buffer;\n}","map":{"version":3,"sources":["../../../../src/lib/binary-utils/buffer-utils.ts"],"names":["value","node","isBuffer","typedArray","buffer"],"mappings":"AAAA,OAAO,KAAP,IAAA,MAAA,gBAAA;AAKA,OAAO,SAAA,QAAA,CAAA,KAAA,EAAuC;AAC5C,SAAOA,KAAK,IAAI,OAAA,KAAA,KAATA,QAAAA,IAAsCA,KAAK,CAAlD,QAAA;AACD;AAMD,OAAO,SAAA,QAAA,CAAA,IAAA,EAAqC;AAC1C,SAAOC,IAAI,CAAJA,QAAAA,GAAgBA,IAAI,CAAJA,QAAAA,CAAhBA,IAAgBA,CAAhBA,GAAP,IAAA;AACD;AAMD,OAAO,SAAA,mBAAA,CAAA,MAAA,EAAuD;AAC5D,MAAIC,QAAQ,CAAZ,MAAY,CAAZ,EAAsB;AACpB,UAAMC,UAAU,GAAG,IAAA,UAAA,CAAeC,MAAM,CAArB,MAAA,EAA8BA,MAAM,CAApC,UAAA,EAAiDA,MAAM,CAA1E,MAAmB,CAAnB;AACA,WAAOD,UAAU,CAAVA,KAAAA,GAAP,MAAA;AACD;;AACD,SAAA,MAAA;AACD","sourcesContent":["import * as node from '../node/buffer';\n\n/**\n * Check for Node.js `Buffer` (without triggering bundler to include Buffer polyfill on browser)\n */\nexport function isBuffer(value: any): boolean {\n  return value && typeof value === 'object' && value.isBuffer;\n}\n\n/**\n * Converts to Node.js `Buffer` (without triggering bundler to include Buffer polyfill on browser)\n * @todo better data type\n */\nexport function toBuffer(data: any): Buffer {\n  return node.toBuffer ? node.toBuffer(data) : data;\n}\n\n/**\n * Converts Node.js `Buffer` to `ArrayBuffer` (without triggering bundler to include Buffer polyfill on browser)\n * @todo better data type\n */\nexport function bufferToArrayBuffer(buffer: any): ArrayBuffer {\n  if (isBuffer(buffer)) {\n    const typedArray = new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.length);\n    return typedArray.slice().buffer;\n  }\n  return buffer;\n}\n"]},"metadata":{},"sourceType":"module"}