{"ast":null,"code":"import React from'react';import clamp from'lodash/clamp';import{VegaPlot,VEGA_THEMES}from'../vega';/**\n * Gene expression histogram displayed as a bar chart,\n * implemented with the VegaPlot component.\n * @param {object} props\n * @param {string[]} props.geneSelection The list of genes\n * currently selected.\n * @param {object[]} props.data The expression data, an array\n * of objects with properties `value` and `gene`.\n * @param {string} props.theme The name of the current Vitessce theme.\n * @param {number} props.width The container width.\n * @param {number} props.height The container height.\n * @param {number} props.marginRight The size of the margin\n * on the right side of the plot, to account for the vega menu button.\n * By default, 90.\n * @param {number} props.marginBottom The size of the margin\n * on the bottom of the plot, to account for long x-axis labels.\n * By default, 50.\n */export default function ExpressionHistogram(props){var geneSelection=props.geneSelection,data=props.data,theme=props.theme,width=props.width,height=props.height,_props$marginRight=props.marginRight,marginRight=_props$marginRight===void 0?90:_props$marginRight,_props$marginBottom=props.marginBottom,marginBottom=_props$marginBottom===void 0?50:_props$marginBottom;var xTitle=geneSelection&&geneSelection.length>=1?'Normalized Expression Value':'Total Normalized Transcript Count';var spec={mark:{type:'bar'},encoding:{x:{field:'value',type:'quantitative',bin:{maxbins:50},title:xTitle},y:{type:'quantitative',aggregate:'count',title:'Number of Cells'},color:{value:'gray'}},width:clamp(width-marginRight,10,Infinity),height:clamp(height-marginBottom,10,Infinity),config:VEGA_THEMES[theme]};return/*#__PURE__*/React.createElement(VegaPlot,{data:data,spec:spec});}","map":{"version":3,"sources":["C:/Users/wkuo/Documents/vitessce-forked-v1.2.2/vitessce/src/components/genes/ExpressionHistogram.js"],"names":["React","clamp","VegaPlot","VEGA_THEMES","ExpressionHistogram","props","geneSelection","data","theme","width","height","marginRight","marginBottom","xTitle","length","spec","mark","type","encoding","x","field","bin","maxbins","title","y","aggregate","color","value","Infinity","config"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,cAAlB,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,SAAtC,CAEA;;;;;;;;;;;;;;;;;GAkBA,cAAe,SAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoC,IAE/CC,CAAAA,aAF+C,CAS7CD,KAT6C,CAE/CC,aAF+C,CAG/CC,IAH+C,CAS7CF,KAT6C,CAG/CE,IAH+C,CAI/CC,KAJ+C,CAS7CH,KAT6C,CAI/CG,KAJ+C,CAK/CC,KAL+C,CAS7CJ,KAT6C,CAK/CI,KAL+C,CAM/CC,MAN+C,CAS7CL,KAT6C,CAM/CK,MAN+C,oBAS7CL,KAT6C,CAO/CM,WAP+C,CAO/CA,WAP+C,6BAOjC,EAPiC,wCAS7CN,KAT6C,CAQ/CO,YAR+C,CAQ/CA,YAR+C,8BAQhC,EARgC,qBAWjD,GAAMC,CAAAA,MAAM,CAAGP,aAAa,EAAIA,aAAa,CAACQ,MAAd,EAAwB,CAAzC,CACX,6BADW,CAEX,mCAFJ,CAIA,GAAMC,CAAAA,IAAI,CAAG,CACXC,IAAI,CAAE,CAAEC,IAAI,CAAE,KAAR,CADK,CAEXC,QAAQ,CAAE,CACRC,CAAC,CAAE,CACDC,KAAK,CAAE,OADN,CAEDH,IAAI,CAAE,cAFL,CAGDI,GAAG,CAAE,CAAEC,OAAO,CAAE,EAAX,CAHJ,CAIDC,KAAK,CAAEV,MAJN,CADK,CAORW,CAAC,CAAE,CACDP,IAAI,CAAE,cADL,CAEDQ,SAAS,CAAE,OAFV,CAGDF,KAAK,CAAE,iBAHN,CAPK,CAYRG,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAZC,CAFC,CAgBXlB,KAAK,CAAER,KAAK,CAACQ,KAAK,CAAGE,WAAT,CAAsB,EAAtB,CAA0BiB,QAA1B,CAhBD,CAiBXlB,MAAM,CAAET,KAAK,CAACS,MAAM,CAAGE,YAAV,CAAwB,EAAxB,CAA4BgB,QAA5B,CAjBF,CAkBXC,MAAM,CAAE1B,WAAW,CAACK,KAAD,CAlBR,CAAb,CAqBA,mBACE,oBAAC,QAAD,EACE,IAAI,CAAED,IADR,CAEE,IAAI,CAAEQ,IAFR,EADF,CAMD","sourcesContent":["import React from 'react';\nimport clamp from 'lodash/clamp';\nimport { VegaPlot, VEGA_THEMES } from '../vega';\n\n/**\n * Gene expression histogram displayed as a bar chart,\n * implemented with the VegaPlot component.\n * @param {object} props\n * @param {string[]} props.geneSelection The list of genes\n * currently selected.\n * @param {object[]} props.data The expression data, an array\n * of objects with properties `value` and `gene`.\n * @param {string} props.theme The name of the current Vitessce theme.\n * @param {number} props.width The container width.\n * @param {number} props.height The container height.\n * @param {number} props.marginRight The size of the margin\n * on the right side of the plot, to account for the vega menu button.\n * By default, 90.\n * @param {number} props.marginBottom The size of the margin\n * on the bottom of the plot, to account for long x-axis labels.\n * By default, 50.\n */\nexport default function ExpressionHistogram(props) {\n  const {\n    geneSelection,\n    data,\n    theme,\n    width,\n    height,\n    marginRight = 90,\n    marginBottom = 50,\n  } = props;\n\n  const xTitle = geneSelection && geneSelection.length >= 1\n    ? 'Normalized Expression Value'\n    : 'Total Normalized Transcript Count';\n\n  const spec = {\n    mark: { type: 'bar' },\n    encoding: {\n      x: {\n        field: 'value',\n        type: 'quantitative',\n        bin: { maxbins: 50 },\n        title: xTitle,\n      },\n      y: {\n        type: 'quantitative',\n        aggregate: 'count',\n        title: 'Number of Cells',\n      },\n      color: { value: 'gray' },\n    },\n    width: clamp(width - marginRight, 10, Infinity),\n    height: clamp(height - marginBottom, 10, Infinity),\n    config: VEGA_THEMES[theme],\n  };\n\n  return (\n    <VegaPlot\n      data={data}\n      spec={spec}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}