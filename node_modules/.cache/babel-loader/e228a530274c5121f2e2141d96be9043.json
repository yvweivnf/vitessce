{"ast":null,"code":"import { isFieldDef, vgField } from '../../channeldef';\nimport { GEOJSON } from '../../type';\nimport * as encode from './encode';\nexport const geoshape = {\n  vgMark: 'shape',\n  encodeEntry: model => {\n    return Object.assign({}, encode.baseEncodeEntry(model, {\n      align: 'ignore',\n      baseline: 'ignore',\n      color: 'include',\n      size: 'ignore',\n      orient: 'ignore',\n      theta: 'ignore'\n    }));\n  },\n  postEncodingTransform: model => {\n    const {\n      encoding\n    } = model;\n    const shapeDef = encoding.shape;\n    const transform = Object.assign({\n      type: 'geoshape',\n      projection: model.projectionName()\n    }, shapeDef && isFieldDef(shapeDef) && shapeDef.type === GEOJSON ? {\n      field: vgField(shapeDef, {\n        expr: 'datum'\n      })\n    } : {});\n    return [transform];\n  }\n};","map":{"version":3,"sources":["../../../../src/compile/mark/geoshape.ts"],"names":[],"mappings":"AACA,SAAQ,UAAR,EAAoB,OAApB,QAAkC,kBAAlC;AACA,SAAQ,OAAR,QAAsB,YAAtB;AAIA,OAAO,KAAK,MAAZ,MAAwB,UAAxB;AAEA,OAAO,MAAM,QAAQ,GAAiB;AACpC,EAAA,MAAM,EAAE,OAD4B;AAEpC,EAAA,WAAW,EAAG,KAAD,IAAqB;AAChC,WAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACK,MAAM,CAAC,eAAP,CAAuB,KAAvB,EAA8B;AAC/B,MAAA,KAAK,EAAE,QADwB;AAE/B,MAAA,QAAQ,EAAE,QAFqB;AAG/B,MAAA,KAAK,EAAE,SAHwB;AAI/B,MAAA,IAAI,EAAE,QAJyB;AAK/B,MAAA,MAAM,EAAE,QALuB;AAM/B,MAAA,KAAK,EAAE;AANwB,KAA9B,CADL,CAAA;AAUD,GAbmC;AAcpC,EAAA,qBAAqB,EAAG,KAAD,IAAgD;AACrE,UAAM;AAAC,MAAA;AAAD,QAAa,KAAnB;AACA,UAAM,QAAQ,GAAG,QAAQ,CAAC,KAA1B;AAEA,UAAM,SAAS,GAAA,MAAA,CAAA,MAAA,CAAA;AACb,MAAA,IAAI,EAAE,UADO;AAEb,MAAA,UAAU,EAAE,KAAK,CAAC,cAAN;AAFC,KAAA,EAIT,QAAQ,IAAI,UAAU,CAAC,QAAD,CAAtB,IAAoC,QAAQ,CAAC,IAAT,KAAkB,OAAtD,GACA;AAAC,MAAA,KAAK,EAAE,OAAO,CAAC,QAAD,EAAW;AAAC,QAAA,IAAI,EAAE;AAAP,OAAX;AAAf,KADA,GAEA,EANS,CAAf;AAQA,WAAO,CAAC,SAAD,CAAP;AACD;AA3BmC,CAA/B","sourceRoot":"","sourcesContent":["import { isFieldDef, vgField } from '../../channeldef';\nimport { GEOJSON } from '../../type';\nimport * as encode from './encode';\nexport const geoshape = {\n    vgMark: 'shape',\n    encodeEntry: (model) => {\n        return Object.assign({}, encode.baseEncodeEntry(model, {\n            align: 'ignore',\n            baseline: 'ignore',\n            color: 'include',\n            size: 'ignore',\n            orient: 'ignore',\n            theta: 'ignore'\n        }));\n    },\n    postEncodingTransform: (model) => {\n        const { encoding } = model;\n        const shapeDef = encoding.shape;\n        const transform = Object.assign({ type: 'geoshape', projection: model.projectionName() }, (shapeDef && isFieldDef(shapeDef) && shapeDef.type === GEOJSON\n            ? { field: vgField(shapeDef, { expr: 'datum' }) }\n            : {}));\n        return [transform];\n    }\n};\n//# sourceMappingURL=geoshape.js.map"]},"metadata":{},"sourceType":"module"}