{"version":3,"sources":["../webpack/bootstrap","app/constants.js","../external \"react\"","components/hooks.js","../external \"@material-ui/core/styles\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/tooltip/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","components/classNames.js","../external \"zustand\"","../external \"lodash/debounce\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../external \"zustand/shallow\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../external \"@material-ui/core/Paper\"","../external \"zustand/context\"","utils.js","../external \"@material-ui/core/Popper\"","app/state/hooks.js","components/tooltip/Tooltip2D.js","components/tooltip/TooltipContent.js","components/tooltip/styles.js","components/tooltip/Tooltip.js"],"names":["Component","DESCRIPTION","STATUS","GENES","CELL_SETS","SCATTERPLOT","SPATIAL","HEATMAP","LAYER_CONTROLLER","CELL_SET_SIZES","GENOMIC_PROFILES","CELL_SET_EXPRESSION","EXPRESSION_HISTOGRAM","GATING","DataType","CELLS","EXPRESSION_MATRIX","MOLECULES","NEIGHBORHOODS","RASTER","FileType","CELLS_JSON","CELL_SETS_JSON","EXPRESSION_MATRIX_ZARR","GENOMIC_PROFILES_ZARR","MOLECULES_JSON","NEIGHBORHOODS_JSON","RASTER_JSON","RASTER_OME_ZARR","CLUSTERS_JSON","GENES_JSON","ANNDATA_CELL_SETS_ZARR","ANNDATA_CELLS_ZARR","ANNDATA_EXPRESSION_MATRIX_ZARR","CoordinationType","DATASET","OBS_TYPE","FEATURE_TYPE","FEATURE_VALUE_TYPE","EMBEDDING_TYPE","EMBEDDING_ZOOM","EMBEDDING_ROTATION","EMBEDDING_TARGET_X","EMBEDDING_TARGET_Y","EMBEDDING_TARGET_Z","EMBEDDING_OBS_SET_POLYGONS_VISIBLE","EMBEDDING_OBS_SET_LABELS_VISIBLE","EMBEDDING_OBS_SET_LABEL_SIZE","EMBEDDING_OBS_RADIUS","EMBEDDING_OBS_RADIUS_MODE","EMBEDDING_OBS_OPACITY","EMBEDDING_OBS_OPACITY_MODE","SPATIAL_ZOOM","SPATIAL_ROTATION","SPATIAL_TARGET_X","SPATIAL_TARGET_Y","SPATIAL_TARGET_Z","SPATIAL_ROTATION_X","SPATIAL_ROTATION_Y","SPATIAL_ROTATION_Z","SPATIAL_ROTATION_ORBIT","SPATIAL_ORBIT_AXIS","SPATIAL_AXIS_FIXED","HEATMAP_ZOOM_X","HEATMAP_ZOOM_Y","HEATMAP_TARGET_X","HEATMAP_TARGET_Y","OBS_FILTER","OBS_HIGHLIGHT","OBS_SET_SELECTION","OBS_SET_HIGHLIGHT","OBS_SET_COLOR","FEATURE_FILTER","FEATURE_HIGHLIGHT","FEATURE_SELECTION","FEATURE_VALUE_COLORMAP","FEATURE_VALUE_TRANSFORM","FEATURE_VALUE_COLORMAP_RANGE","OBS_COLOR_ENCODING","SPATIAL_IMAGE_LAYER","SPATIAL_SEGMENTATION_LAYER","SPATIAL_POINT_LAYER","SPATIAL_NEIGHBORHOOD_LAYER","GENOMIC_ZOOM_X","GENOMIC_ZOOM_Y","GENOMIC_TARGET_X","GENOMIC_TARGET_Y","ADDITIONAL_OBS_SETS","MOLECULE_HIGHLIGHT","GATING_FEATURE_SELECTION_X","GATING_FEATURE_SELECTION_Y","FEATURE_VALUE_TRANSFORM_COEFFICIENT","getWindowDimensions","window","width","innerWidth","height","innerHeight","useVitessceContainer","ref","useCallback","current","closest","VITESSCE_CONTAINER","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","onResizeDebounced","debounce","trailing","addEventListener","removeEventListener","useGridItemSize","containerRef","useRef","setHeight","setWidth","resizeCount","useGridResize","incrementResizeCount","useEmitGridResize","onWindowResize","container","containerRect","getBoundingClientRect","useDeckCanvasSize","deckRef","canvas","deck","canvasRect","useReady","supportedItems","items","waiting","setWaiting","setItemIsReady","readyItem","waitingItems","nextWaitingItems","filter","item","console","log","length","JSON","stringify","setItemIsNotReady","notReadyItem","resetReadyItems","isReady","useUrls","urls","setUrls","addUrl","url","name","prev","resetUrls","useClosestVitessceContainerSize","componentHeight","clientHeight","componentWidth","clientWidth","useExpressionValueGetter","attrs","expressionData","cellIdMap","useMemo","result","rows","i","getExpressionValue","entry","cellId","cellIndex","val","TOOLTIP_ANCESTOR","CARD","PRIMARY_CARD","SECONDARY_CARD","BLACK_CARD","TITLE_CARD","SCROLL_CARD","fromEntries","iterable","reduce","obj","key","Object","assign","pluralize","singular","plural","count","capitalize","word","charAt","toUpperCase","slice","getLongestString","strings","prevLongest","currentValue","getNextScope","prevScopes","chars","nextCharIndices","next","r","forEach","charIndex","unshift","increment","push","join","nextScope","includes","getSourceFromLoader","loader","level","data","source","Array","isArray","isRgb","shape","dtype","labels","channelSize","indexOf","createContext","ViewConfigProviderLocal","Provider","useViewConfigStoreLocal","useStore","useViewConfigStoreApiLocal","useStoreApi","ViewConfigProvider","useViewConfigStore","useViewConfigStoreApi","AuxiliaryProviderLocal","useAuxiliaryStoreLocal","AuxiliaryProvider","useAuxiliaryStore","createViewConfigStore","create","set","viewConfig","loaders","setViewConfig","setLoaders","setCoordinationValue","parameter","scope","value","state","coordinationSpace","removeComponent","uid","newLayout","layout","c","changeLayout","newComponentProps","newProps","useComponentLayout","component","scopes","coordinationScopes","l","every","createAuxiliaryStore","auxiliaryStore","useHoverStore","componentHover","setComponentHover","useWarnStore","warning","setWarning","useViewInfoStore","viewInfo","setComponentViewInfo","uuid","useGridSizeStore","useCoordination","parameters","values","map","undefined","shallow","setters","setterName","setterFunc","useDatasetUids","datasetScopes","datasetUids","datasetScopesArr","datasetScope","useMultiDatasetCoordination","datasetValues","parameterSpace","parameterScope","error","datasetSetters","AUXILIARY_COORDINATION_TYPES_MAP","spatialImageLayer","mapCoordinationScopes","newCoordinationScopes","keys","newCoordinationTypes","coordinationType","mapParameters","Boolean","flat","useAuxiliaryCoordination","mappedCoordinationScopes","mappedParameters","useLoaders","useLayout","useRemoveComponent","useChangeLayout","useSetLoaders","useSetViewConfig","viewConfigStoreApi","setViewConfigRef","getState","useComponentHover","useSetComponentHover","useWarning","useSetWarning","useComponentViewInfo","useSetComponentViewInfo","setViewInfoRef","Tooltip2D","props","parentUuid","sourceUuid","x","y","parentWidth","parentHeight","children","isTooltipVisible","crosshairWidth","left","top","TooltipContent","info","entries","styles","makeStyles","tooltipAnchor","position","pointerEvents","userSelect","tooltipContent","opacity","padding","fontSize","outline","borderCollapse","Tooltip","classes","placementX","setPlacementX","placementY","setPlacementY","getTooltipContainer","flipX","flipY","style"],"mappings":"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","file":"tooltip.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 212);\n","/**\n * This file defines the current constant values.\n * To deprecate a value, add it to ./constants-old.js\n * with a corresponding log message.\n */\nexport const Component = {\n  DESCRIPTION: 'description',\n  STATUS: 'status',\n  GENES: 'genes',\n  CELL_SETS: 'cellSets',\n  SCATTERPLOT: 'scatterplot',\n  SPATIAL: 'spatial',\n  HEATMAP: 'heatmap',\n  LAYER_CONTROLLER: 'layerController',\n  CELL_SET_SIZES: 'cellSetSizes',\n  GENOMIC_PROFILES: 'genomicProfiles',\n  CELL_SET_EXPRESSION: 'cellSetExpression',\n  EXPRESSION_HISTOGRAM: 'expressionHistogram',\n  GATING: 'gating',\n};\n\nexport const DataType = {\n  CELLS: 'cells',\n  CELL_SETS: 'cell-sets',\n  EXPRESSION_MATRIX: 'expression-matrix',\n  GENOMIC_PROFILES: 'genomic-profiles',\n  MOLECULES: 'molecules',\n  NEIGHBORHOODS: 'neighborhoods',\n  RASTER: 'raster',\n};\n\n\nexport const FileType = {\n  CELLS_JSON: 'cells.json',\n  CELL_SETS_JSON: 'cell-sets.json',\n  EXPRESSION_MATRIX_ZARR: 'expression-matrix.zarr',\n  GENOMIC_PROFILES_ZARR: 'genomic-profiles.zarr',\n  MOLECULES_JSON: 'molecules.json',\n  NEIGHBORHOODS_JSON: 'neighborhoods.json',\n  RASTER_JSON: 'raster.json',\n  RASTER_OME_ZARR: 'raster.ome-zarr',\n  CLUSTERS_JSON: 'clusters.json',\n  GENES_JSON: 'genes.json',\n  ANNDATA_CELL_SETS_ZARR: 'anndata-cell-sets.zarr',\n  ANNDATA_CELLS_ZARR: 'anndata-cells.zarr',\n  ANNDATA_EXPRESSION_MATRIX_ZARR: 'anndata-expression-matrix.zarr',\n};\n\n/**\n * Constants representing names of coordination types,\n * to help prevent typos.\n */\nexport const CoordinationType = {\n  DATASET: 'dataset',\n  // Entity types\n  OBS_TYPE: 'obsType',\n  FEATURE_TYPE: 'featureType',\n  FEATURE_VALUE_TYPE: 'featureValueType',\n  // Other types\n  EMBEDDING_TYPE: 'embeddingType',\n  EMBEDDING_ZOOM: 'embeddingZoom',\n  EMBEDDING_ROTATION: 'embeddingRotation',\n  EMBEDDING_TARGET_X: 'embeddingTargetX',\n  EMBEDDING_TARGET_Y: 'embeddingTargetY',\n  EMBEDDING_TARGET_Z: 'embeddingTargetZ',\n  EMBEDDING_OBS_SET_POLYGONS_VISIBLE: 'embeddingObsSetPolygonsVisible',\n  EMBEDDING_OBS_SET_LABELS_VISIBLE: 'embeddingObsSetLabelsVisible',\n  EMBEDDING_OBS_SET_LABEL_SIZE: 'embeddingObsSetLabelSize',\n  EMBEDDING_OBS_RADIUS: 'embeddingObsRadius',\n  EMBEDDING_OBS_RADIUS_MODE: 'embeddingObsRadiusMode',\n  EMBEDDING_OBS_OPACITY: 'embeddingObsOpacity',\n  EMBEDDING_OBS_OPACITY_MODE: 'embeddingObsOpacityMode',\n  SPATIAL_ZOOM: 'spatialZoom',\n  SPATIAL_ROTATION: 'spatialRotation',\n  SPATIAL_TARGET_X: 'spatialTargetX',\n  SPATIAL_TARGET_Y: 'spatialTargetY',\n  SPATIAL_TARGET_Z: 'spatialTargetZ',\n  SPATIAL_ROTATION_X: 'spatialRotationX',\n  SPATIAL_ROTATION_Y: 'spatialRotationY',\n  SPATIAL_ROTATION_Z: 'spatialRotationZ',\n  SPATIAL_ROTATION_ORBIT: 'spatialRotationOrbit',\n  SPATIAL_ORBIT_AXIS: 'spatialOrbitAxis',\n  SPATIAL_AXIS_FIXED: 'spatialAxisFixed',\n  HEATMAP_ZOOM_X: 'heatmapZoomX',\n  HEATMAP_ZOOM_Y: 'heatmapZoomY',\n  HEATMAP_TARGET_X: 'heatmapTargetX',\n  HEATMAP_TARGET_Y: 'heatmapTargetY',\n  OBS_FILTER: 'obsFilter',\n  OBS_HIGHLIGHT: 'obsHighlight',\n  OBS_SET_SELECTION: 'obsSetSelection',\n  OBS_SET_HIGHLIGHT: 'obsSetHighlight',\n  OBS_SET_COLOR: 'obsSetColor',\n  FEATURE_FILTER: 'featureFilter',\n  FEATURE_HIGHLIGHT: 'featureHighlight',\n  FEATURE_SELECTION: 'featureSelection',\n  FEATURE_VALUE_COLORMAP: 'featureValueColormap',\n  FEATURE_VALUE_TRANSFORM: 'featureValueTransform',\n  FEATURE_VALUE_COLORMAP_RANGE: 'featureValueColormapRange',\n  OBS_COLOR_ENCODING: 'obsColorEncoding',\n  SPATIAL_IMAGE_LAYER: 'spatialImageLayer',\n  SPATIAL_SEGMENTATION_LAYER: 'spatialSegmentationLayer',\n  SPATIAL_POINT_LAYER: 'spatialPointLayer',\n  SPATIAL_NEIGHBORHOOD_LAYER: 'spatialNeighborhoodLayer',\n  GENOMIC_ZOOM_X: 'genomicZoomX',\n  GENOMIC_ZOOM_Y: 'genomicZoomY',\n  GENOMIC_TARGET_X: 'genomicTargetX',\n  GENOMIC_TARGET_Y: 'genomicTargetY',\n  ADDITIONAL_OBS_SETS: 'additionalObsSets',\n  // TODO: use obsHighlight rather than moleculeHighlight.\n  MOLECULE_HIGHLIGHT: 'moleculeHighlight',\n  GATING_FEATURE_SELECTION_X: 'gatingFeatureSelectionX',\n  GATING_FEATURE_SELECTION_Y: 'gatingFeatureSelectionY',\n  FEATURE_VALUE_TRANSFORM_COEFFICIENT: 'featureValueTransformCoefficient',\n};\n","module.exports = require(\"react\");","import {\n  useRef, useState, useEffect, useCallback, useMemo,\n} from 'react';\nimport debounce from 'lodash/debounce';\nimport { useGridResize, useEmitGridResize } from '../app/state/hooks';\nimport { VITESSCE_CONTAINER } from './classNames';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport function useVitessceContainer(ref) {\n  return useCallback(() => {\n    if (ref.current) {\n      return ref.current.closest(`.${VITESSCE_CONTAINER}`);\n    }\n    return null;\n  }, [ref]);\n}\n\n/**\n * Custom hook, gets the full window dimensions.\n * @returns {array} `[width, height]` where width and height\n * are numbers.\n */\nexport function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions(),\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    const onResizeDebounced = debounce(handleResize, 100, { trailing: true });\n\n    window.addEventListener('resize', onResizeDebounced);\n    return () => window.removeEventListener('resize', onResizeDebounced);\n  }, []);\n\n  return windowDimensions;\n}\n\n/**\n * Custom hook, subscribes to GRID_RESIZE and window resize events.\n * @returns {array} `[width, height, containerRef]` where width and height\n * are numbers and containerRef is a React ref.\n */\nexport function useGridItemSize() {\n  const containerRef = useRef();\n\n  const [height, setHeight] = useState();\n  const [width, setWidth] = useState();\n\n  const resizeCount = useGridResize();\n  const incrementResizeCount = useEmitGridResize();\n\n  // On window resize events, increment the grid resize count.\n  useEffect(() => {\n    function onWindowResize() {\n      incrementResizeCount();\n    }\n    const onResizeDebounced = debounce(onWindowResize, 100, { trailing: true });\n    window.addEventListener('resize', onResizeDebounced);\n    onWindowResize();\n    return () => {\n      window.removeEventListener('resize', onResizeDebounced);\n    };\n  }, [incrementResizeCount]);\n\n  // On new grid resize counts, re-compute the component\n  // width/height.\n  useEffect(() => {\n    if (!containerRef.current) return;\n    const container = containerRef.current;\n    const containerRect = container.getBoundingClientRect();\n    setHeight(containerRect.height);\n    setWidth(containerRect.width);\n  }, [resizeCount]);\n\n  return [width, height, containerRef];\n}\n\n/**\n * Custom hook, subscribes to GRID_RESIZE and window resize events.\n * @returns {array} `[width, height, deckRef]` where width and height\n * are numbers and deckRef is a React ref to be used with\n * a <DeckGL/> element (or a forwardRef to one).\n */\nexport function useDeckCanvasSize() {\n  const deckRef = useRef();\n\n  const [height, setHeight] = useState();\n  const [width, setWidth] = useState();\n\n  const resizeCount = useGridResize();\n  const incrementResizeCount = useEmitGridResize();\n\n  // On window resize events, increment the grid resize count.\n  useEffect(() => {\n    function onWindowResize() {\n      incrementResizeCount();\n    }\n    const onResizeDebounced = debounce(onWindowResize, 100, { trailing: true });\n    window.addEventListener('resize', onResizeDebounced);\n    onWindowResize();\n    return () => {\n      window.removeEventListener('resize', onResizeDebounced);\n    };\n  }, [incrementResizeCount]);\n\n  // On new grid resize counts, re-compute the DeckGL canvas\n  // width/height.\n  useEffect(() => {\n    if (!deckRef.current) return;\n    const { canvas } = deckRef.current.deck;\n    const canvasRect = canvas.getBoundingClientRect();\n    setHeight(canvasRect.height);\n    setWidth(canvasRect.width);\n  }, [resizeCount]);\n\n  return [width, height, deckRef];\n}\n\n/**\n * This hook handles a boolean isReady value,\n * which only returns true once every item in the\n * input list has been marked as \"ready\".\n * @param {string[]} items The items to wait on.\n * Should be defined as a constant\n * (outside a function component / render function),\n * otherwise strange bugs may occur.\n * @returns {array} An array\n * [isReady, setItemIsReady, setItemIsNotReady, resetReadyItems]\n * where isReady is the boolean value,\n * setItemIsReady marks one item as ready,\n * setItemIsNotReady marks one item as not ready,\n * and resetReadyItem marks all items as waiting.\n */\nexport function useReady(supportedItems) {\n  const items = supportedItems;\n  const [waiting, setWaiting] = useState(items);\n\n  const setItemIsReady = useCallback((readyItem) => {\n    setWaiting((waitingItems) => {\n      const nextWaitingItems = waitingItems.filter(item => item !== readyItem);\n      // eslint-disable-next-line no-console\n      console.log(`cleared ${readyItem}; waiting on ${nextWaitingItems.length}: ${JSON.stringify(nextWaitingItems)}`);\n      return nextWaitingItems;\n    });\n  }, [setWaiting]);\n\n  const setItemIsNotReady = useCallback((notReadyItem) => {\n    setWaiting((waitingItems) => {\n      const nextWaitingItems = [...waitingItems, notReadyItem];\n      // eslint-disable-next-line no-console\n      console.log(`waiting on ${nextWaitingItems.length}: ${JSON.stringify(nextWaitingItems)}`);\n      return nextWaitingItems;\n    });\n  }, [setWaiting]);\n\n  const resetReadyItems = useCallback(() => {\n    setWaiting(items);\n    // eslint-disable-next-line no-console\n    console.log(`waiting on ${items.length}: ${JSON.stringify(items)}`);\n  }, [setWaiting, items]);\n\n  const isReady = waiting.length === 0;\n\n  return [isReady, setItemIsReady, setItemIsNotReady, resetReadyItems];\n}\n\n/**\n * This hook manages a list of URLs,\n * with adding and resetting helpers.\n * @returns {array} An array\n * [urls, addUrl, resetUrls]\n * where urls is the array of URL objects,\n * addUrl is a function for adding a URL to the array,\n * resetUrls is a function that clears the array.\n */\nexport function useUrls() {\n  const [urls, setUrls] = useState([]);\n\n  const addUrl = useCallback((url, name) => {\n    if (url) {\n      setUrls(prev => ([...prev, { url, name }]));\n    }\n  }, [setUrls]);\n\n  const resetUrls = useCallback(() => {\n    setUrls([]);\n  }, [setUrls]);\n\n  return [urls, addUrl, resetUrls];\n}\n\n/**\n * Custom hook, subscribes to the width and height of the closest .vitessce-container\n * element and updates upon window resize events.\n * @param {Ref} ref A React ref object within the `.vitessce-container`.\n * @returns {array} `[width, height]` where width and height\n * are numbers.\n */\nexport function useClosestVitessceContainerSize(ref) {\n  const [height, setHeight] = useState();\n  const [width, setWidth] = useState();\n\n  useEffect(() => {\n    function onWindowResize() {\n      if (ref.current) {\n        const {\n          clientHeight: componentHeight, clientWidth: componentWidth,\n        } = ref.current.closest('.vitessce-container');\n        setWidth(componentWidth);\n        setHeight(componentHeight);\n      }\n    }\n    const onResizeDebounced = debounce(onWindowResize, 100, { trailing: true });\n    window.addEventListener('resize', onResizeDebounced);\n    onWindowResize();\n    return () => {\n      window.removeEventListener('resize', onResizeDebounced);\n    };\n  }, [ref]);\n\n  return [width, height];\n}\n\nexport function useExpressionValueGetter({ attrs, expressionData }) {\n  // Get a mapping from cell ID to row index in the gene expression matrix.\n  const cellIdMap = useMemo(() => {\n    const result = {};\n    if (attrs && attrs.rows) {\n      // eslint-disable-next-line no-plusplus\n      for (let i = 0; i < attrs.rows.length; i++) {\n        result[attrs.rows[i]] = i;\n      }\n    }\n    return result;\n  }, [attrs]);\n\n  // Set up a getter function for gene expression values, to be used\n  // by the DeckGL layer to obtain values for instanced attributes.\n  const getExpressionValue = useCallback((entry) => {\n    const cellId = entry[0];\n    if (cellIdMap && expressionData && expressionData[0]) {\n      const cellIndex = cellIdMap[cellId];\n      const val = expressionData[0][cellIndex];\n      return val;\n    }\n    return 0;\n  }, [cellIdMap, expressionData]);\n  return getExpressionValue;\n}\n","module.exports = require(\"@material-ui/core/styles\");","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export { default as Tooltip2D } from './Tooltip2D';\nexport { default as Tooltip } from './Tooltip';\nexport { default as TooltipContent } from './TooltipContent';\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export const TOOLTIP_ANCESTOR = 'tooltip-ancestor';\nconst CARD = `card card-body my-2 ${TOOLTIP_ANCESTOR}`;\nexport const PRIMARY_CARD = `${CARD} bg-primary`;\nexport const SECONDARY_CARD = `${CARD} bg-secondary`;\nexport const BLACK_CARD = `${CARD} bg-black`;\nexport const TITLE_CARD = 'title';\nexport const SCROLL_CARD = `${PRIMARY_CARD} scroll`;\nexport const VITESSCE_CONTAINER = 'vitessce-container';\n","module.exports = require(\"zustand\");","module.exports = require(\"lodash/debounce\");","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","module.exports = require(\"zustand/shallow\");","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","module.exports = require(\"@material-ui/core/Paper\");","module.exports = require(\"zustand/context\");","/* eslint-disable no-plusplus */\n\n// Adapted from https://github.com/feross/fromentries/blob/29b52a850bb3a47c390937631c2638edf3443942/index.js\nexport function fromEntries(iterable) {\n  return [...iterable]\n    .reduce((obj, { 0: key, 1: val }) => Object.assign(obj, { [key]: val }), {});\n}\n\n/**\n * Select between a singular and plural version of a word,\n * based on an item count.\n * @param {string} singular The singular version of the word.\n * @param {string} plural The plural version of the word.\n * @param {number} count The number of items.\n * @returns {string} Singular if count is one, else plural.\n */\nexport function pluralize(singular, plural, count) {\n  return (count === 1 ? singular : plural);\n}\n\n/**\n * Capitalize a the first letter of a string.\n * @param {string} word A string to capitalize.\n * @returns {string} The word parameter with the first letter capitalized.\n */\nexport function capitalize(word) {\n  return word.charAt(0).toUpperCase() + word.slice(1);\n}\n\n/**\n * Get the longest string in the array of strings.\n * @param {string[]} strings The array of strings.\n * @returns The longest string.\n */\nexport function getLongestString(strings) {\n  return strings.reduce(\n    (prevLongest, currentValue) => (\n      prevLongest.length > currentValue.length ? prevLongest : currentValue\n    ),\n  );\n}\n\n/**\n * Generate a new scope name which does not\n * conflict / overlap with a previous scope name.\n * Really these just need to be unique within the coordination object.\n * So in theory they could be String(Math.random()) or uuidv4() or something.\n * However it may be good to make them more human-readable and memorable\n * since eventually we will want to expose a UI to update the coordination.\n * @param {string[]} prevScopes Previous scope names.\n * @returns {string} The new scope name.\n */\nexport function getNextScope(prevScopes) {\n  // Keep an ordered list of valid characters.\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  // Store the value of the next character for each position\n  // in the new string.\n  // For example, [0] -> \"A\", [1] -> \"B\", [0, 1] -> \"AB\"\n  const nextCharIndices = [0];\n\n  // Generate a new scope name,\n  // potentially conflicting with an existing name.\n  // Reference: https://stackoverflow.com/a/12504061\n  function next() {\n    const r = [];\n    nextCharIndices.forEach((charIndex) => {\n      r.unshift(chars[charIndex]);\n    });\n    let increment = true;\n    for (let i = 0; i < nextCharIndices.length; i++) {\n      const val = ++nextCharIndices[i];\n      if (val >= chars.length) {\n        nextCharIndices[i] = 0;\n      } else {\n        increment = false;\n        break;\n      }\n    }\n    if (increment) {\n      nextCharIndices.push(0);\n    }\n    return r.join('');\n  }\n\n  let nextScope;\n  do {\n    nextScope = next();\n  } while (prevScopes.includes(nextScope));\n  return nextScope;\n}\n\n/**\n * Get a representative PixelSource from a loader object returned from\n * the Vitessce imaging loaders\n * @param {object} loader { data: (PixelSource[]|PixelSource), metadata, channels } object\n * @param {number=} level Level of the multiscale loader from which to get a PixelSource\n * @returns {object} PixelSource object\n */\nexport function getSourceFromLoader(loader, level) {\n  const { data } = loader;\n  const source = Array.isArray(data) ? data[(level || data.length - 1)] : data;\n  return source;\n}\n\n/*\n * Helper method to determine whether pixel data is interleaved and rgb or not.\n * @param {object} loader\n */\nexport function isRgb(loader) {\n  const source = getSourceFromLoader(loader);\n  const { shape, dtype, labels } = source;\n  const channelSize = shape[labels.indexOf('c')];\n  return (channelSize === 3) && dtype === 'Uint8';\n}\n","module.exports = require(\"@material-ui/core/Popper\");","import { useRef, useCallback, useMemo } from 'react';\nimport create from 'zustand';\nimport createContext from 'zustand/context';\nimport shallow from 'zustand/shallow';\nimport { CoordinationType } from '../constants';\nimport { fromEntries, capitalize } from '../../utils';\n\n// Reference: https://github.com/pmndrs/zustand#react-context\n// Reference: https://github.com/pmndrs/zustand/blob/e47ea03/tests/context.test.tsx#L60\nconst {\n  Provider: ViewConfigProviderLocal,\n  useStore: useViewConfigStoreLocal,\n  useStoreApi: useViewConfigStoreApiLocal,\n} = createContext();\n\nexport const ViewConfigProvider = ViewConfigProviderLocal;\nexport const useViewConfigStore = useViewConfigStoreLocal;\nexport const useViewConfigStoreApi = useViewConfigStoreApiLocal;\n\nconst {\n  Provider: AuxiliaryProviderLocal,\n  useStore: useAuxiliaryStoreLocal,\n} = createContext();\n\nexport const AuxiliaryProvider = AuxiliaryProviderLocal;\nexport const useAuxiliaryStore = useAuxiliaryStoreLocal;\n\n\n/**\n * The useViewConfigStore hook is initialized via the zustand\n * create() function, which sets up both the state variables\n * and the reducer-type functions.\n * Reference: https://github.com/react-spring/zustand\n * @returns {function} The useStore hook.\n */\nexport const createViewConfigStore = () => create(set => ({\n  // State:\n  // The viewConfig is an object which must conform to the schema\n  // found in src/schemas/config.schema.json.\n  viewConfig: null,\n  // The loaders object is a mapping from dataset ID to\n  // data type to loader object instance.\n  loaders: null,\n  // Reducer functions which update the state\n  // (although technically also part of state):\n  setViewConfig: viewConfig => set({ viewConfig }),\n  setLoaders: loaders => set({ loaders }),\n  setCoordinationValue: ({ parameter, scope, value }) => set(state => ({\n    viewConfig: {\n      ...state.viewConfig,\n      coordinationSpace: {\n        ...state.viewConfig.coordinationSpace,\n        [parameter]: {\n          ...state.viewConfig.coordinationSpace[parameter],\n          [scope]: value,\n        },\n      },\n    },\n  })),\n  removeComponent: uid => set((state) => {\n    const newLayout = state.viewConfig.layout.filter(c => c.uid !== uid);\n    return {\n      viewConfig: {\n        ...state.viewConfig,\n        layout: newLayout,\n      },\n    };\n  }),\n  changeLayout: newComponentProps => set((state) => {\n    const newLayout = state.viewConfig.layout.slice();\n    newComponentProps.forEach(([i, newProps]) => {\n      newLayout[i] = {\n        ...newLayout[i],\n        ...newProps,\n      };\n    });\n    return {\n      viewConfig: {\n        ...state.viewConfig,\n        layout: newLayout,\n      },\n    };\n  }),\n}));\n\n/**\n * Hook for getting components' layout from the view config based on\n * matching all coordination scopes.\n * @returns {Object} The components' layout.\n */\nexport const useComponentLayout = (component, scopes, coordinationScopes) => useViewConfigStore(\n  state => state.viewConfig.layout.filter(l => l.component === component).filter(\n    l => scopes.every(scope => l.coordinationScopes[scope]\n          === coordinationScopes[scope]),\n  ),\n);\n\n/**\n * The useAuxiliaryStore hook is initialized via the zustand\n * create() function, which sets up both the state variables\n * and the reducer-type functions.\n * Reference: https://github.com/react-spring/zustand\n * It is meant to be used for non-viewconfig-based coordination between components.\n * For example, as currently happens, the layer controller can coordinate\n * on-load callbacks with spatial view based on whether or not they are\n * coordinated via `spatialImageLayer` - the callbacks are not part of the view config\n * though so they live here.\n * @returns {function} The useStore hook.\n */\nexport const createAuxiliaryStore = () => create(set => ({\n  auxiliaryStore: null,\n  setCoordinationValue: ({ parameter, scope, value }) => set(state => ({\n    auxiliaryStore: {\n      ...state.auxiliaryStore,\n      [parameter]: {\n        [scope]: value,\n      },\n    },\n  })),\n}));\n\n/**\n * The hover store can be used to store global state\n * related to which component is currently hovered,\n * which is required for tooltip / crossover elements.\n * @returns {function} The useStore hook.\n */\nconst useHoverStore = create(set => ({\n  // Components may need to know if they are the \"hover source\"\n  // for tooltip interactions. This value should be a unique\n  // component ID, such as its index in the view config layout.\n  componentHover: null,\n  setComponentHover: componentHover => set({ componentHover }),\n}));\n\n/**\n * The warning store can be used to store global state\n * related to app warning messages.\n * @returns {function} The useStore hook.\n */\nconst useWarnStore = create(set => ({\n  // Want a global state to collect warning messages\n  // that occur anywhere in the app.\n  warning: null,\n  setWarning: warning => set({ warning }),\n}));\n\n/**\n * The view info store can be used to store component-level\n * viewInfo objects,\n * which are required for tooltip / crossover elements.\n * @returns {function} The useStore hook.\n */\nconst useViewInfoStore = create(set => ({\n  // The viewInfo object is a mapping from\n  // component IDs to component view info objects.\n  // Each view info object must have a project() function.\n  viewInfo: {},\n  setComponentViewInfo: (uuid, viewInfo) => set(state => ({\n    viewInfo: {\n      ...state.viewInfo,\n      [uuid]: viewInfo,\n    },\n  })),\n}));\n\n/**\n * The grid size store can be used to store a\n * counter which updates on each window or react-grid-layout\n * resize event.\n * @returns {function} The useStore hook.\n */\nconst useGridSizeStore = create(set => ({\n  resizeCount: {},\n  incrementResizeCount: () => set(state => ({\n    resizeCount: state.resizeCount + 1,\n  })),\n}));\n\n/**\n * The useCoordination hook returns both the\n * values and setter functions for the coordination objects\n * in a particular coordination scope mapping.\n * This hook is intended to be used within the ___Subscriber\n * components to allow them to \"hook into\" only those coordination\n * objects and setter functions of relevance.\n * @param {string[]} parameters Array of coordination types.\n * @param {object} coordinationScopes Mapping of coordination types\n * to scope names.\n * @returns {array} Returns a tuple [values, setters]\n * where values is an object containing all coordination values,\n * and setters is an object containing all coordination setter\n * functions for the values in `values`, named with a \"set\"\n * prefix.\n */\nexport function useCoordination(parameters, coordinationScopes) {\n  const setCoordinationValue = useViewConfigStore(state => state.setCoordinationValue);\n\n  const values = useViewConfigStore((state) => {\n    const { coordinationSpace } = state.viewConfig;\n    return fromEntries(parameters.map((parameter) => {\n      if (coordinationSpace && coordinationSpace[parameter]) {\n        const value = coordinationSpace[parameter][coordinationScopes[parameter]];\n        return [parameter, value];\n      }\n      return [parameter, undefined];\n    }));\n  }, shallow);\n\n  const setters = useMemo(() => fromEntries(parameters.map((parameter) => {\n    const setterName = `set${capitalize(parameter)}`;\n    const setterFunc = value => setCoordinationValue({\n      parameter,\n      scope: coordinationScopes[parameter],\n      value,\n    });\n    return [setterName, setterFunc];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  })), [parameters, coordinationScopes]);\n\n  return [values, setters];\n}\n\n/**\n * Get a mapping from dataset coordination scopes to dataset UIDs.\n * @param {object} coordinationScopes The coordination scope mapping object for a view.\n * @returns {object} Mapping from dataset coordination scope names to dataset UIDs.\n */\nexport function useDatasetUids(coordinationScopes) {\n  const parameter = CoordinationType.DATASET;\n  const datasetScopes = coordinationScopes[parameter];\n\n  // Mapping from dataset coordination scope name to dataset uid\n  const datasetUids = useViewConfigStore((state) => {\n    const { coordinationSpace } = state.viewConfig;\n    // Convert a single scope to an array of scopes to be consistent.\n    const datasetScopesArr = Array.isArray(datasetScopes) ? datasetScopes : [datasetScopes];\n    return fromEntries(datasetScopesArr.map((datasetScope) => {\n      if (coordinationSpace && coordinationSpace[parameter]) {\n        const value = coordinationSpace[parameter][datasetScope];\n        return [datasetScope, value];\n      }\n      return [datasetScope, undefined];\n    }));\n  }, shallow);\n\n  return datasetUids;\n}\n\n/**\n * Use coordination values and coordination setter functions corresponding to\n * dataset-specific coordination scopes for each coordination type.\n * @param {string[]} parameters An array of coordination types supported by a view.\n * @param {object} coordinationScopes The coordination scope mapping object for a view.\n * @returns {array} [cValues, cSetters] where\n * cValues is a mapping from coordination scope name to { coordinationType: coordinationValue },\n * and cSetters is a mapping from coordination scope name to { setCoordinationType }\n * setter functions.\n */\nexport function useMultiDatasetCoordination(parameters, coordinationScopes) {\n  const setCoordinationValue = useViewConfigStore(state => state.setCoordinationValue);\n\n  const datasetScopes = coordinationScopes[CoordinationType.DATASET];\n\n  // Convert a single scope to an array of scopes to be consistent.\n  const datasetScopesArr = Array.isArray(datasetScopes) ? datasetScopes : [datasetScopes];\n\n  const values = useViewConfigStore((state) => {\n    const { coordinationSpace } = state.viewConfig;\n    return fromEntries(datasetScopesArr.map((datasetScope) => {\n      const datasetValues = fromEntries(parameters.map((parameter) => {\n        if (coordinationSpace && coordinationSpace[parameter]) {\n          let value;\n          const parameterSpace = coordinationSpace[parameter];\n          const parameterScope = coordinationScopes[parameter];\n          if (typeof parameterScope === 'object') {\n            value = parameterSpace[parameterScope[datasetScope]];\n          } else if (typeof parameterScope === 'string') {\n            value = parameterSpace[parameterScope];\n          } else {\n            console.error(`coordination scope for ${parameter} must be of type string or object.`);\n          }\n          return [parameter, value];\n        }\n        return [parameter, undefined];\n      }));\n      return [datasetScope, datasetValues];\n    }));\n  }, shallow);\n\n  const setters = useMemo(() => fromEntries(datasetScopesArr.map((datasetScope) => {\n    const datasetSetters = fromEntries(parameters.map((parameter) => {\n      const setterName = `set${capitalize(parameter)}`;\n      let setterFunc;\n      const parameterScope = coordinationScopes[parameter];\n      if (typeof parameterScope === 'object') {\n        setterFunc = value => setCoordinationValue({\n          parameter,\n          scope: parameterScope[datasetScope],\n          value,\n        });\n      } else if (typeof parameterScope === 'string') {\n        setterFunc = value => setCoordinationValue({\n          parameter,\n          scope: parameterScope,\n          value,\n        });\n      } else {\n        console.error(`coordination scope for ${parameter} must be of type string or object.`);\n      }\n      return [setterName, setterFunc];\n    }));\n    return [datasetScope, datasetSetters];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  })), [parameters, coordinationScopes]);\n\n  return [values, setters];\n}\n\nconst AUXILIARY_COORDINATION_TYPES_MAP = {\n  spatialImageLayer: ['rasterLayersCallbacks', 'areLoadingRasterChannnels'],\n};\n\n/**\n * The maps the coordination types of incoming scopes to new types\n * for the auxiliary store.\n * @param {object} coordinationScopes Mapping of coordination types\n * to scope names.\n * @returns {object} Mapping of coordination types\n * to new scope names for the auxiliary store.\n */\nconst mapCoordinationScopes = (coordinationScopes) => {\n  const newCoordinationScopes = {};\n  Object.keys(coordinationScopes).forEach((key) => {\n    const newCoordinationTypes = AUXILIARY_COORDINATION_TYPES_MAP[key] || [];\n    newCoordinationTypes.forEach((coordinationType) => {\n      newCoordinationScopes[coordinationType || key] = coordinationScopes[key];\n    });\n  });\n  return newCoordinationScopes;\n};\n\nconst mapParameters = parameters => parameters\n  .map(parameter => AUXILIARY_COORDINATION_TYPES_MAP[parameter]).filter(Boolean).flat();\n\n/**\n * The useAuxiliaryCoordination hook returns both the\n * values and setter functions for the auxiliary coordination objects\n * in a particular coordination scope mapping.\n * This hook is intended to be used within the ___Subscriber\n * components to allow them to \"hook into\" only those auxiliary coordination\n * objects and setter functions of relevance, for example \"on load\" callbacks.\n * @param {string[]} parameters Array of coordination types.\n * @param {object} coordinationScopes Mapping of coordination types\n * to scope names.\n * @returns {array} Returns a tuple [values, setters]\n * where values is an object containing all coordination values,\n * and setters is an object containing all coordination setter\n * functions for the values in `values`, named with a \"set\"\n * prefix.\n */\nexport function useAuxiliaryCoordination(parameters, coordinationScopes) {\n  const setCoordinationValue = useAuxiliaryStore(state => state.setCoordinationValue);\n  const mappedCoordinationScopes = mapCoordinationScopes(coordinationScopes);\n  const mappedParameters = mapParameters(parameters);\n  const values = useAuxiliaryStore((state) => {\n    const { auxiliaryStore } = state;\n    return fromEntries(mappedParameters.map((parameter) => {\n      if (auxiliaryStore && auxiliaryStore[parameter]) {\n        const value = auxiliaryStore[parameter][mappedCoordinationScopes[parameter]];\n        return [parameter, value];\n      }\n      return [parameter, undefined];\n    }));\n  }, shallow);\n  const setters = useMemo(() => fromEntries(mappedParameters.map((parameter) => {\n    const setterName = `set${capitalize(parameter)}`;\n    const setterFunc = value => setCoordinationValue({\n      parameter,\n      scope: mappedCoordinationScopes[parameter],\n      value,\n    });\n    return [setterName, setterFunc];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  })), [parameters, coordinationScopes]);\n\n  return [values, setters];\n}\n\n/**\n * Obtain the loaders object from\n * the global app state.\n * @returns {object} The loaders object\n * in the `useViewConfigStore` store.\n */\nexport function useLoaders() {\n  return useViewConfigStore(state => state.loaders);\n}\n\n/**\n * Obtain the view config layout array from\n * the global app state.\n * @returns {object[]} The layout array\n * in the `useViewConfigStore` store.\n */\nexport function useLayout() {\n  return useViewConfigStore(state => state.viewConfig?.layout);\n}\n\n/**\n * Obtain the component removal function from\n * the global app state.\n * @returns {function} The remove component function\n * in the `useViewInfoStore` store.\n */\nexport function useRemoveComponent() {\n  return useViewConfigStore(state => state.removeComponent);\n}\n\n/**\n * Obtain the component prop setter function from\n * the global app state.\n * @returns {function} The set component props function\n * in the `useViewInfoStore` store.\n */\nexport function useChangeLayout() {\n  return useViewConfigStore(state => state.changeLayout);\n}\n\n/**\n * Obtain the loaders setter function from\n * the global app state.\n * @returns {function} The loaders setter function\n * in the `useViewConfigStore` store.\n */\nexport function useSetLoaders() {\n  return useViewConfigStore(state => state.setLoaders);\n}\n\n/**\n * Obtain the view config setter function from\n * the global app state.\n * @returns {function} The view config setter function\n * in the `useViewConfigStore` store.\n */\nexport function useSetViewConfig(viewConfigStoreApi) {\n  const setViewConfigRef = useRef(viewConfigStoreApi.getState().setViewConfig);\n  const setViewConfig = setViewConfigRef.current;\n  return setViewConfig;\n}\n\n/**\n * Obtain the component hover value from\n * the global app state.\n * @returns {number} The hovered component ID\n * in the `useHoverStore` store.\n */\nexport function useComponentHover() {\n  return useHoverStore(state => state.componentHover);\n}\n\n/**\n * Obtain the component hover setter function from\n * the global app state.\n * @returns {function} The component hover setter function\n * in the `useHoverStore` store.\n */\nexport function useSetComponentHover() {\n  return useHoverStore(state => state.setComponentHover);\n}\n\n/**\n * Obtain the warning message from\n * the global app state.\n * @returns {string} The warning message\n * in the `useWarnStore` store.\n */\nexport function useWarning() {\n  return useWarnStore(state => state.warning);\n}\n\n/**\n * Obtain the warning setter function from\n * the global app state.\n * @returns {function} The warning setter function\n * in the `useWarnStore` store.\n */\nexport function useSetWarning() {\n  return useWarnStore(state => state.setWarning);\n}\n\n/**\n * Obtain the component view info value from\n * the global app state.\n * @returns {object} The view info object for the component\n * in the `useViewInfoStore` store.\n */\nexport function useComponentViewInfo(uuid) {\n  return useViewInfoStore(useCallback(state => state.viewInfo[uuid], [uuid]));\n}\n\n/**\n * Obtain the component view info setter function from\n * the global app state.\n * @returns {function} The component view info setter function\n * in the `useViewInfoStore` store.\n */\nexport function useSetComponentViewInfo(uuid) {\n  const setViewInfoRef = useRef(useViewInfoStore.getState().setComponentViewInfo);\n  const setComponentViewInfo = viewInfo => setViewInfoRef.current(uuid, viewInfo);\n  return setComponentViewInfo;\n}\n\n/**\n * Obtain the grid resize count value\n * from the global app state.\n * @returns {number} The grid resize increment value.\n */\nexport function useGridResize() {\n  return useGridSizeStore(state => state.resizeCount);\n}\n\n/**\n * Obtain the grid resize count increment function\n * from the global app state.\n * @returns {function} The grid resize count increment\n * function.\n */\nexport function useEmitGridResize() {\n  return useGridSizeStore(state => state.incrementResizeCount);\n}\n","import React from 'react';\nimport Tooltip from './Tooltip';\n\n/**\n * A tooltip component that also incorporates a crosshair element.\n * @param {object} props\n * @param {string} props.parentUuid A unique identifier corresponding to the plot\n * with which this scatterplot is associated.\n * @param {string} props.sourceUuid A unique identifier corresponding to the plot\n * from which this tooltip originated.\n * @param {number} props.x The x coordinate for the tooltip.\n * @param {number} props.y The y coordinate for the tooltip.\n * @param {number} props.parentWidth The width of the parent plot container element.\n * @param {number} props.parentHeight The height of the parent plot container element.\n * @param {React.Component} props.children The tooltip contents as a react component.\n */\nexport default function Tooltip2D(props) {\n  const {\n    parentUuid,\n    sourceUuid,\n    x,\n    y,\n    parentWidth,\n    parentHeight,\n    children,\n  } = props;\n  // Check if out of bounds.\n  if (x < 0 || x > parentWidth || y < 0 || y > parentHeight) {\n    return null;\n  }\n  // Show tooltip or crosshair?\n  const isTooltipVisible = (parentUuid === sourceUuid);\n  const crosshairWidth = 1;\n  return (\n    <>\n      {isTooltipVisible ? (\n        <Tooltip\n          x={x}\n          y={y}\n          parentWidth={parentWidth}\n          parentHeight={parentHeight}\n        >\n          {children}\n        </Tooltip>\n      ) : (\n        <>\n          {x !== null ? (\n            <div\n              className=\"cell-emphasis-crosshair\"\n              style={{\n                left: `${x - crosshairWidth / 2}px`,\n                top: 0,\n                width: `${crosshairWidth}px`,\n                height: `${parentHeight}px`,\n              }}\n            />\n          ) : null}\n          {y !== null ? (\n            <div\n              className=\"cell-emphasis-crosshair\"\n              style={{\n                left: 0,\n                top: `${y - crosshairWidth / 2}px`,\n                width: `${parentWidth}px`,\n                height: `${crosshairWidth}px`,\n              }}\n            />\n          ) : null}\n        </>\n      )}\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function TooltipContent(props) {\n  const {\n    info,\n  } = props;\n\n  return (\n    <table>\n      <tbody>\n        {Object.entries(info).map(([key, value]) => (\n          <tr key={key}>\n            <th>{key}</th>\n            <td>{value}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const styles = makeStyles(() => ({\n  tooltipAnchor: {\n    position: 'relative',\n    width: '0px',\n    height: '0px',\n    pointerEvents: 'none',\n    userSelect: 'none',\n  },\n  tooltipContent: {\n    opacity: 0.9,\n    padding: '5px',\n    pointerEvents: 'none',\n    '& table > tbody > tr > th, & table > tbody > tr > td': {\n      fontSize: '80%',\n      opacity: 0.8,\n      outline: 0,\n      padding: '0 2px',\n    },\n    '& table': {\n      borderCollapse: 'collapse',\n    },\n  },\n}));\n","import React, { useEffect, useRef, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { useVitessceContainer } from '../hooks';\nimport { styles } from './styles';\n\nexport default function Tooltip(props) {\n  const {\n    x,\n    y,\n    parentWidth,\n    parentHeight,\n    children,\n  } = props;\n  const ref = useRef();\n  const classes = styles();\n  const [placementX, setPlacementX] = useState('start');\n  const [placementY, setPlacementY] = useState('bottom');\n\n  const getTooltipContainer = useVitessceContainer(ref);\n\n  // Do collision detection based on the bounds of the tooltip ancestor element.\n  useEffect(() => {\n    if (ref && ref.current) {\n      const flipX = (x > parentWidth / 2);\n      const flipY = (y > parentHeight / 2);\n      setPlacementX(flipX ? 'end' : 'start');\n      setPlacementY(flipY ? 'top' : 'bottom');\n      ref.current.style.left = `${x + (flipX ? -20 : 5)}px`;\n      ref.current.style.top = `${y + (flipY ? -20 : 5)}px`;\n    }\n  }, [x, y, parentWidth, parentHeight]);\n\n  return (\n    <div\n      ref={ref}\n      className={classes.tooltipAnchor}\n    >\n      {ref && ref.current ? (\n        <Popper\n          open\n          anchorEl={ref.current}\n          container={getTooltipContainer}\n          transition\n          placement={`${placementY}-${placementX}`}\n        >\n          <Paper elevation={4} className={classes.tooltipContent}>\n            {children}\n          </Paper>\n        </Popper>\n      ) : null}\n    </div>\n  );\n}\n"],"sourceRoot":""}